<!DOCTYPE html>
<html lang="en">
<head>
<title>Coverage</title>
<meta charset="utf-8"/>
<style>
@media screen{
    html {background-color: #FFFFF0;}
body {
    font-size: 16px;
    font-family : Verdana, "Bitstream Vera Sans", "DejaVu Sans", Tahoma, Geneva, Arial, Sans-serif;
    margin: 1em;
}
th, td {padding: 5px 10px;}
th {text-align: left;}
h1, h2, h3, h4, h5, h6 {color: #424242;}
h1 {font-size: 22px;}
h2 {font-size: 18px; margin-top: 2em; margin-bottom:0.3em;}
tbody tr:nth-child(even) {background-color: #F0F0F0;}
tbody tr:nth-child(odd) {background-color: #FAFAFA;}
th {background-color: #E6E6E6;color: #424242;}
table {border: silver 1px solid; font-size: 14px;font-family: APLFont, monospace;}
code , code a {font-size: 14px; font-family: APLFont, monospace;}
code.header {
    font-size: 16px; 
    font-family: APLFont, monospace; 
    margin: 1.5em 0.5em 0 0.5em; 
    padding:0;
    display: block;
}
div.code-block {
    border: 1px silver dashed;
    background-color: #F2F2F2;
    display: block;
    margin: 0.5em 0.5em 0.5em 0.5em;
    padding: 0.5em;
}
div.code-block.missing {
    background-color: #fa605254;
}
div.code-block code {display: block; white-space: pre-wrap; margin:0; padding:0; word-wrap: break-word;}
.emphasize { font-weight: 800;}
ul li, ol li {margin: 0.7em 0.2em;}
.float-right {float:right;}
.no-underline {    text-decoration :none;}
.top-links {font-size:20px; padding-left: 0.6em;}
.align-right {text-align: right;}
#footer hr {margin-top:1.5em;}
#footer p {margin-top:5px; padding-top:0; font-size: 9px;}
@font-face {
        font-family: "APLFont";
    src:
        local("APL385 Unicode"),
        url("https://misc.aplteam.com/apl385.ttf") format("truetype");
}
.info {border: 1px silver dashed; background-color: #F2F2F2;margin: 0.5em; padding: 0.5em;}
}
@media print{@page {size: portrait}
@page {
    margin: 1cm 1cm 1cm 1.75cm;
    @bottom-right {
        content: counter(page) " / " counter(pages);
  }
}
body {
    font: 12pt "Times New Roman", Times, serif;
    line-height: 1.2;
     /* CSS3 filter, at the moment Webkit only. Prefix it for future implementations */
    -webkit-filter: grayscale(100%);
    filter: grayscale(100%); /* future-proof */
}
h1 {font-size: 18pt;}
h2 {font-size: 16pt; margin-top: 10pt; margin-bottom: 3pt;}
th, td {padding: 2pt 3pt;}
th {text-align: left;background-color: #DBDBDB;}
tbody tr:nth-child(odd) {background-color: #EDEDED;}
table {
    color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    font-size: 8pt;
    font-family: APLFont, monospace;
}
div.keep-together {break-inside: avoid; break-before:auto;}
table {border: silver 1pt solid;}
code , code a {font-size: 8pt; font-family: APLFont, monospace;}
code.header {
    font-size: 8pt;
    font-family: APLFont, monospace;
    margin: 7pt 3pt 0 10pt;
    padding:0;
    display: block;
}
div.code-block {
    border: 1pt silver dashed;
    background-color: #F2F2F2;
    display: block;
    margin: 4pt 4pt 4pt 4pt;
    padding: 4pt;
}
div.code-block code {display: block; white-space: pre-wrap; margin:0; padding:0; word-wrap: break-word;}
.emphasize { font-weight: 800;}
a {text-decoration: none;color: black;}
ul li, ol li {margin: 8pt 3pt;}
.no-print {display:none;}
.align-right {text-align: right;}
#footer hr {margin-top:1.5em;}
#footer p {margin-top:5pt; padding-top:0; font-size: 6pt;}
@font-face {
        font-family: "APLFont";
    src:
        local("APL385 Unicode"),
        url("https://misc.aplteam.com/apl385.ttf") format("truetype");
}
.info {border: 1px silver dashed; background-color: #F2F2F2;margin: 8px; padding: 8px;}
}
</style>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.11.2/b-2.0.0/b-print-2.0.0/fh-3.1.9/r-2.2.9/datatables.min.css"/>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.11.2/b-2.0.0/b-print-2.0.0/fh-3.1.9/r-2.2.9/datatables.min.js"></script>
</head>
<body>
<h1 id="top">Coverage Report</h1>
<p>Watched: 94 fns/opr within <code>#.Tester2.Tester2</code></p>
<p>The test suite was executed once:</p>
<table>
<thead>
<tr><th>Executed at</th><th>APLVersion</th><th>Memory (MB)</th></tr>
</thead>
<tbody>
<tr><td>2024-03-02 13:34:31</td><td>Windows-64 ⋄ 19.0.48928.0 ⋄ W ⋄ Development ⋄ Unicode</td><td>113</td></tr>
</tbody>
</table>
<p>Overall 82% of the testable code is covered.</p>
<p>(Comment lines, empty lines, all <code>:End</code>* lines etc. are ignored)</p>
<p>61 of the fns/opr are 100% covered.</p>
<div id="partly-covered" class="keep-together">
<table id="percent">
<thead>
<tr><th style="text-align:left;">Function/Operator</th><th style="text-align:left;">Lines not executed</th><th style="text-align:left;">Coverage</th><th style="text-align:right;">≢</th></tr>
</thead>
<tbody>
<tr class="uncovered"><td><a href="#listing_1" title="Link to listing">#.Tester2.Tester2.set_codeCoverage</a></td><td>4←≢1-3,5</td><td>0</td><td>4</td></tr>
<tr class="uncovered"><td><a href="#listing_2" title="Link to listing">#.Tester2.Tester2.get_codeCoverage</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_3" title="Link to listing">#.Tester2.Tester2.get_IniFolder</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_4" title="Link to listing">#.Tester2.Tester2.get_exec_before_each_test</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_5" title="Link to listing">#.Tester2.Tester2.get_exec_after_each_test</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_6" title="Link to listing">#.Tester2.Tester2.History</a></td><td>17</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_7" title="Link to listing">#.Tester2.Tester2.OnContextMenuInGrid</a></td><td>20←≢2-20,22</td><td>0</td><td>20</td></tr>
<tr class="uncovered"><td><a href="#listing_8" title="Link to listing">#.Tester2.Tester2.OnClose</a></td><td>4←≢4-7</td><td>0</td><td>4</td></tr>
<tr class="uncovered"><td><a href="#listing_9" title="Link to listing">#.Tester2.Tester2.OnKeyPress</a></td><td>8←≢2-3,5-6,8-11</td><td>0</td><td>8</td></tr>
<tr class="uncovered"><td><a href="#listing_10" title="Link to listing">#.Tester2.Tester2.EditTestFunctions</a></td><td>14←≢8-12,14,16-17,19-21,23,26-27</td><td>0</td><td>14</td></tr>
<tr class="uncovered"><td><a href="#listing_11" title="Link to listing">#.Tester2.Tester2.Test_000</a></td><td>7←≢3-4,8-10,12,14</td><td>0</td><td>7</td></tr>
<tr class="uncovered"><td><a href="#listing_12" title="Link to listing">#.Tester2.Tester2.CRLF</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_13" title="Link to listing">#.Tester2.Tester2.Prepare</a></td><td>18←≢6-17,20,23,25-28</td><td>0</td><td>18</td></tr>
<tr class="uncovered"><td><a href="#listing_14" title="Link to listing">#.Tester2.Tester2.RunTests</a></td><td>9←≢5-13</td><td>0</td><td>9</td></tr>
<tr class="uncovered"><td><a href="#listing_15" title="Link to listing">#.Tester2.Tester2.RunTestsInBatchMode</a></td><td>5, 6, 7</td><td>0</td><td>3</td></tr>
<tr><td><a href="#listing_16" title="Link to listing">#.Tester2.Tester2.NotifyAcreAndLinkAndDeleteOldVersion</a></td><td>8←≢3-4,6,8-10,19,23</td><td>50</td><td>16</td></tr>
<tr><td><a href="#listing_17" title="Link to listing">#.Tester2.Tester2.GetTestTemplate</a></td><td>10←≢14-15,18-20,23,27-29,31</td><td>52</td><td>21</td></tr>
<tr><td><a href="#listing_18" title="Link to listing">#.Tester2.Tester2.GoToTidyUp</a></td><td>7, 8, 13</td><td>67</td><td>9</td></tr>
<tr><td><a href="#listing_19" title="Link to listing">#.Tester2.Tester2.YesOrNo</a></td><td>4</td><td>67</td><td>3</td></tr>
<tr><td><a href="#listing_20" title="Link to listing">#.Tester2.Tester2.ListTestFunctions</a></td><td>10←≢14-15,18-20,46-48,52-53</td><td>74</td><td>38</td></tr>
<tr><td><a href="#listing_21" title="Link to listing">#.Tester2.Tester2.ProcessTestCases</a></td><td>15←≢11,44-46,72,79-87,98</td><td>82</td><td>84</td></tr>
<tr><td><a href="#listing_22" title="Link to listing">#.Tester2.Tester2.ReportInactiveToGUI</a></td><td>14, 15</td><td>82</td><td>11</td></tr>
<tr><td><a href="#listing_23" title="Link to listing">#.Tester2.Tester2.AddToGui</a></td><td>13, 15, 21</td><td>85</td><td>20</td></tr>
<tr><td><a href="#listing_24" title="Link to listing">#.Tester2.Tester2.ExecuteTestFunction</a></td><td>6, 26, 27</td><td>86</td><td>21</td></tr>
<tr><td><a href="#listing_25" title="Link to listing">#.Tester2.Tester2.make1</a></td><td>14, 16</td><td>87</td><td>15</td></tr>
<tr><td><a href="#listing_26" title="Link to listing">#.Tester2.Tester2.RunGUI</a></td><td>16</td><td>88</td><td>8</td></tr>
<tr><td><a href="#listing_27" title="Link to listing">#.Tester2.Tester2.Run__</a></td><td>9←≢37-38,69-71,87-88,90,98</td><td>88</td><td>73</td></tr>
<tr><td><a href="#listing_28" title="Link to listing">#.Tester2.Tester2.ProcessIniFiles</a></td><td>13, 30</td><td>91</td><td>23</td></tr>
<tr><td><a href="#listing_29" title="Link to listing">#.Tester2.Tester2.ExecuteInitial</a></td><td>27, 36, 40</td><td>91</td><td>34</td></tr>
<tr><td><a href="#listing_30" title="Link to listing">#.Tester2.Tester2.RenameTestFnsTo</a></td><td>5←≢60,72,74,88,95</td><td>92</td><td>65</td></tr>
<tr><td><a href="#listing_31" title="Link to listing">#.Tester2.Tester2.ProcessGroupAndTestCaseNumbers</a></td><td>33, 34</td><td>93</td><td>30</td></tr>
<tr><td><a href="#listing_32" title="Link to listing">#.Tester2.Tester2.ShowLog</a></td><td>25, 46</td><td>93</td><td>30</td></tr>
<tr><td><a href="#listing_33" title="Link to listing">#.Tester2.Tester2.EstablishHelpers</a></td><td>9</td><td>94</td><td>16</td></tr>
<tr class="fullyCovered"><td><a href="#listing_34" title="Link to listing">#.Tester2.Tester2.set_custom_1</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_35" title="Link to listing">#.Tester2.Tester2.get_custom_1</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_36" title="Link to listing">#.Tester2.Tester2.set_custom_2</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_37" title="Link to listing">#.Tester2.Tester2.get_custom_2</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_38" title="Link to listing">#.Tester2.Tester2.set_custom_3</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_39" title="Link to listing">#.Tester2.Tester2.get_custom_3</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_40" title="Link to listing">#.Tester2.Tester2.set_custom_4</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_41" title="Link to listing">#.Tester2.Tester2.get_custom_4</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_42" title="Link to listing">#.Tester2.Tester2.set_custom_5</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_43" title="Link to listing">#.Tester2.Tester2.get_custom_5</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_44" title="Link to listing">#.Tester2.Tester2.set_custom_6</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_45" title="Link to listing">#.Tester2.Tester2.get_custom_6</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_46" title="Link to listing">#.Tester2.Tester2.set_custom_7</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_47" title="Link to listing">#.Tester2.Tester2.get_custom_7</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_48" title="Link to listing">#.Tester2.Tester2.set_custom_8</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_49" title="Link to listing">#.Tester2.Tester2.get_custom_8</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_50" title="Link to listing">#.Tester2.Tester2.set_custom_9</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_51" title="Link to listing">#.Tester2.Tester2.get_custom_9</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_52" title="Link to listing">#.Tester2.Tester2.set_IniFolder</a></td><td></td><td>100</td><td>7</td></tr>
<tr class="fullyCovered"><td><a href="#listing_53" title="Link to listing">#.Tester2.Tester2.set_exec_before_each_test</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_54" title="Link to listing">#.Tester2.Tester2.set_exec_after_each_test</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_55" title="Link to listing">#.Tester2.Tester2.set_INI</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_56" title="Link to listing">#.Tester2.Tester2.get_INI</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_57" title="Link to listing">#.Tester2.Tester2.Version</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_58" title="Link to listing">#.Tester2.Tester2.Cleanup</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_59" title="Link to listing">#.Tester2.Tester2.Run</a></td><td></td><td>100</td><td>10</td></tr>
<tr class="fullyCovered"><td><a href="#listing_60" title="Link to listing">#.Tester2.Tester2.RunThese</a></td><td></td><td>100</td><td>8</td></tr>
<tr class="fullyCovered"><td><a href="#listing_61" title="Link to listing">#.Tester2.Tester2.RunBatchTests</a></td><td></td><td>100</td><td>10</td></tr>
<tr class="fullyCovered"><td><a href="#listing_62" title="Link to listing">#.Tester2.Tester2.Help</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_63" title="Link to listing">#.Tester2.Tester2.CreateParms</a></td><td></td><td>100</td><td>8</td></tr>
<tr class="fullyCovered"><td><a href="#listing_64" title="Link to listing">#.Tester2.Tester2.CloseGUI</a></td><td></td><td>100</td><td>6</td></tr>
<tr class="fullyCovered"><td><a href="#listing_65" title="Link to listing">#.Tester2.Tester2.Getref2Gui</a></td><td></td><td>100</td><td>4</td></tr>
<tr class="fullyCovered"><td><a href="#listing_66" title="Link to listing">#.Tester2.Tester2.ProcessGroup</a></td><td></td><td>100</td><td>26</td></tr>
<tr class="fullyCovered"><td><a href="#listing_67" title="Link to listing">#.Tester2.Tester2.HandleStops</a></td><td></td><td>100</td><td>5</td></tr>
<tr class="fullyCovered"><td><a href="#listing_68" title="Link to listing">#.Tester2.Tester2.ReportTestResults</a></td><td></td><td>100</td><td>18</td></tr>
<tr class="fullyCovered"><td><a href="#listing_69" title="Link to listing">#.Tester2.Tester2.ExecuteCleanup</a></td><td></td><td>100</td><td>12</td></tr>
<tr class="fullyCovered"><td><a href="#listing_70" title="Link to listing">#.Tester2.Tester2.QuitTests</a></td><td></td><td>100</td><td>2</td></tr>
<tr class="fullyCovered"><td><a href="#listing_71" title="Link to listing">#.Tester2.Tester2.CreateGui</a></td><td></td><td>100</td><td>107</td></tr>
<tr class="fullyCovered"><td><a href="#listing_72" title="Link to listing">#.Tester2.Tester2.ProcessGuiEvents</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_73" title="Link to listing">#.Tester2.Tester2.FailsIf</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_74" title="Link to listing">#.Tester2.Tester2.PassesIf</a></td><td></td><td>100</td><td>9</td></tr>
<tr class="fullyCovered"><td><a href="#listing_75" title="Link to listing">#.Tester2.Tester2.ListGroups</a></td><td></td><td>100</td><td>4</td></tr>
<tr class="fullyCovered"><td><a href="#listing_76" title="Link to listing">#.Tester2.Tester2.ListSymbolicNames</a></td><td></td><td>100</td><td>9</td></tr>
<tr class="fullyCovered"><td><a href="#listing_77" title="Link to listing">#.Tester2.Tester2.GetSymbolicName</a></td><td></td><td>100</td><td>6</td></tr>
<tr class="fullyCovered"><td><a href="#listing_78" title="Link to listing">#.Tester2.Tester2.AtLeastVersion</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_79" title="Link to listing">#.Tester2.Tester2.FindSpecialString</a></td><td></td><td>100</td><td>4</td></tr>
<tr class="fullyCovered"><td><a href="#listing_80" title="Link to listing">#.Tester2.Tester2.CheckCustomDef</a></td><td></td><td>100</td><td>8</td></tr>
<tr class="fullyCovered"><td><a href="#listing_81" title="Link to listing">#.Tester2.Tester2.ListCustomMessages</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_82" title="Link to listing">#.Tester2.Tester2.ListCustomNumbers</a></td><td></td><td>100</td><td>2</td></tr>
<tr class="fullyCovered"><td><a href="#listing_83" title="Link to listing">#.Tester2.Tester2.HandleInitialize</a></td><td></td><td>100</td><td>35</td></tr>
<tr class="fullyCovered"><td><a href="#listing_84" title="Link to listing">#.Tester2.Tester2.HandleCleanup</a></td><td></td><td>100</td><td>12</td></tr>
<tr class="fullyCovered"><td><a href="#listing_85" title="Link to listing">#.Tester2.Tester2.ReportLineNumber</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_86" title="Link to listing">#.Tester2.Tester2.CR</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_87" title="Link to listing">#.Tester2.Tester2.stopFlag</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_88" title="Link to listing">#.Tester2.Tester2._parms</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_89" title="Link to listing">#.Tester2.Tester2.type</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_90" title="Link to listing">#.Tester2.Tester2.label</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_91" title="Link to listing">#.Tester2.Tester2.x</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_92" title="Link to listing">#.Tester2.Tester2.target</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_93" title="Link to listing">#.Tester2.Tester2.groupName</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_94" title="Link to listing">#.Tester2.Tester2.force</a></td><td></td><td>100</td><td>0</td></tr>
</tbody>
</table>
</div>
<script>
$(document).ready(function() {
    var oTable;
    oTable = $("#percent").DataTable( {
        paging:   false,
        ordering: true,
        info:     true,
        fixedHeader: true,
        order: [2,"asc"],
        dom: "Bft",
        drawCallback: function( settings ) {
             var api = this.api();
             $('.header[id^="listing_"]').next().addBack().css("display","none");
             api.rows( {page:"current"} ).data().each(function(data){
              id = data[0];
              id = id.match(/"(\#.*?)"/);
              if (id){$(id[1]).next().addBack().css("display","block");}
             })
        },      
        buttons: [
        {
            text: "Partly covered (18)",
            titleAttr: "50%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "^(?!(0%|100%)).*";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "Uncovered (15)",
            titleAttr: "0%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "^0%";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "Fully covered (61)",
            titleAttr: "100%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "100%";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "All (94)",
            titleAttr: "all",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = ".";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
    ],
 
        columnDefs: [
            {className: "align-right", targets: [2,3]
            },
            {
                render: function ( data, type, row, meta ) {
                            return data+"%" ;        
                        },
                targets: 2
            }
        ]             
    } );
    oTable.button(0).trigger();

} );    
</script>
<h2>Listings</h2>
<code class="header" id="listing_1">#.Tester2.Tester2.set_codeCoverage &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_codeCoverage value</code>
<code class="emphasize">→[1]  'Is not an instance of the "CodeCoverage" class'Assert∨/'[CodeCoverage]'⍷⍕value.NewValue</code>
<code class="emphasize">→[2]  :If 0&lt;≢value.NewValue</code>
<code class="emphasize">→[3]      _codeCoverage←value.NewValue</code>
<code> [4]  :Else</code>
<code class="emphasize">→[5]      _codeCoverage←''</code>
<code> [6]  :EndIf</code>
</div>
<code class="header" id="listing_2">#.Tester2.Tester2.get_codeCoverage &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_codeCoverage</code>
<code class="emphasize">→[1]  r←_codeCoverage</code>
</div>
<code class="header" id="listing_3">#.Tester2.Tester2.get_IniFolder &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_IniFolder</code>
<code class="emphasize">→[1]  r←_IniFolder</code>
</div>
<code class="header" id="listing_4">#.Tester2.Tester2.get_exec_before_each_test &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_exec_before_each_test</code>
<code class="emphasize">→[1]  r←_exec_before_each_test</code>
</div>
<code class="header" id="listing_5">#.Tester2.Tester2.get_exec_after_each_test &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_exec_after_each_test</code>
<code class="emphasize">→[1]  r←_exec_after_each_test</code>
</div>
<code class="header" id="listing_6">#.Tester2.Tester2.History &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←History</code>
<code> [1]   :Access Public shared</code>
<code> [2]        ⍝ * 3.7.0 ⋄ 2024-03-02</code>
<code> [3]        ⍝   * The restriction that "," and "*" cannot go together has been lifted.</code>
<code> [4]        ⍝   * The restriction that `~` could only be used at the beginning has been lifted</code>
<code> [5]        ⍝   * Bug fixes</code>
<code> [6]        ⍝     *</code>
<code> [7]        ⍝ * 3.6.0 ⋄ 2024-01-11</code>
<code> [8]        ⍝   * Any a general `Initial` function as well as any group-specific one can now return a text vector</code>
<code> [9]        ⍝     rather than a Boolean. Empty=success, otherwise it is treated as an error msg and reported.</code>
<code> [10]       ⍝   * So far, in case a test suite was executed in batch mode, there was no information provided which</code>
<code> [11]       ⍝     line did cause a test case to fail.</code>
<code> [12]       ⍝   * Shared method `Help` added that provides a full documentation of Tester2.</code>
<code> [13]       ⍝ * 3.5.0 ⋄ 2023-04-28</code>
<code> [14]       ⍝   * Helpers updated</code>
<code> [15]       ⍝\\</code>
<code> [16]       ⍝ For a full history (including older versions) see &lt;https://github.com/aplteam/Tester2/releases&gt;</code>
<code class="emphasize">→[17]  r←↑{⍵↓⍨+/∧\∧⌿(↑⍵)=' '}{⍵↓⍨⍵⍳'⍝'}¨{⍵/⍨'⍝'=⊃¨⍵}{⍵↓⍨+/∧\(↑⍵)=' '}¨1↓⎕NR⊃⎕SI</code>
</div>
<code class="header" id="listing_7">#.Tester2.Tester2.OnContextMenuInGrid &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←OnContextMenuInGrid msg</code>
<code> [1]   :Access Public Shared</code>
<code class="emphasize">→[2]   r←0</code>
<code class="emphasize">→[3]   ref←1⊃,msg</code>
<code class="emphasize">→[4]   n2←⎕NS''</code>
<code class="emphasize">→[5]   n2.Menu←⎕NEW⊂'Menu'</code>
<code class="emphasize">→[6]   row←⊃ref.CellFromPoint msg[4 5]</code>
<code class="emphasize">→[7]   name←2⊃ref.Values[row;]</code>
<code class="emphasize">→[8]   caption←' "',name,'"'</code>
<code class="emphasize">→[9]   n2.Edit←n2.Menu.⎕NEW'MenuItem'(⊂('Caption'('Edit',caption)))</code>
<code class="emphasize">→[10]  n2.Copy←n2.Menu.⎕NEW'MenuItem'(⊂('Caption' 'Copy names and comments to ⎕ED'))</code>
<code class="emphasize">→[11]  {⍵.onSelect←1}¨'MenuItem'⎕WN n2.Menu</code>
<code class="emphasize">→[12]  result←⎕DQ n2.Menu</code>
<code class="emphasize">→[13]  :If 0&lt;≢result</code>
<code class="emphasize">→[14]      n←ref.##.##.##.∆n</code>
<code class="emphasize">→[15]      :Select ⊃result</code>
<code class="emphasize">→[16]      :Case n2.Edit</code>
<code class="emphasize">→[17]          _ref.⎕ED'Test_',name</code>
<code class="emphasize">→[18]      :Case n2.Copy</code>
<code class="emphasize">→[19]          buff←¯1↓⊃,/{(A.DTB ⍵),CR}¨↓⎕FMT{((¯3↑¨⍕¨⍳≢⍵),¨⊂'. '),⍵}{⍵⌿⍨(≢¨⍵)∨.≠0 0}n.Grid.Values[;2 3]</code>
<code class="emphasize">→[20]          {{}(#.⎕NS'').(⎕ED⍠('ReadOnly' 1)&amp;{'ed'}ed←⍵)}buff</code>
<code> [21]      :Else</code>
<code class="emphasize">→[22]          ∘∘∘ ⍝ Huh?!</code>
<code> [23]      :EndSelect</code>
<code> [24]  :EndIf</code>
</div>
<code class="header" id="listing_8">#.Tester2.Tester2.OnClose &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←OnClose msg</code>
<code> [1]       ⍝ Callback called in case the user closes the GUI, for example by clicking the "Close" box.\\</code>
<code> [2]       ⍝ Note that this function changes the global `∆n.∆Closed` from 0 to 1.</code>
<code> [3]  :Access Public Shared</code>
<code class="emphasize">→[4]  r←1</code>
<code class="emphasize">→[5]  ref←1⊃,msg</code>
<code class="emphasize">→[6]  ref{6::shy←⍬ ⋄ ⎕NQ ⍺ ⍵}9998</code>
<code class="emphasize">→[7]  :Trap 6 ⋄ ref.∆n.∆Closed←1 ⋄ :EndTrap</code>
<code> [8]       ⍝Done</code>
</div>
<code class="header" id="listing_9">#.Tester2.Tester2.OnKeyPress &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←OnKeyPress msg</code>
<code> [1]   :Access Public Shared</code>
<code class="emphasize">→[2]   r←1</code>
<code class="emphasize">→[3]   :If 1&lt;≢ref←1⊃,msg</code>
<code> [4]           ⍝ For the TabControl we must use the old ('Event' ...) syntax, making it a name rather than a ref fur to bug &lt;01655&gt;</code>
<code class="emphasize">→[5]       →(0=⎕NC'ps')/0</code>
<code class="emphasize">→[6]       ref←ps.ref2Gui.∆n.TB</code>
<code> [7]   :EndIf</code>
<code class="emphasize">→[8]   :If ⍬≢form←{0::⍬ ⋄ 'Form'≡⍵.Type:⍵ ⋄ ∇ ⍵.##}ref</code>
<code class="emphasize">→[9]       key←⊃2↓msg</code>
<code class="emphasize">→[10]      :If 'EP'≡key</code>
<code class="emphasize">→[11]          ⎕NQ form'Close'</code>
<code> [12]      :EndIf</code>
<code> [13]  :EndIf</code>
</div>
<code class="header" id="listing_10">#.Tester2.Tester2.EditTestFunctions &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {list}←EditTestFunctions list</code>
<code> [1]  ⍝ Get all functions into the editor starting their names with `Test_` in case `list` is empty.\\</code>
<code> [2]  ⍝ If `list` is not empty it may be one of:</code>
<code> [3]  ⍝ * A matrix with test function names in the first column; typically the result of `ListTestFunctions`.</code>
<code> [4]  ⍝ * A vector of text vectors specifying names.</code>
<code> [5]  ⍝ * A simple text vector with the name of a single test case.\\</code>
<code> [6]  ⍝ Returns the list of names (vector of text vectors)  as a shy argument.</code>
<code> [7]   :Access Public Instance</code>
<code class="emphasize">→[8]   :If 0=≢list</code>
<code class="emphasize">→[9]       list←'T'_ref.⎕NL 3</code>
<code class="emphasize">→[10]  :ElseIf 2=⍴⍴list</code>
<code class="emphasize">→[11]      :If 2=|≡list</code>
<code class="emphasize">→[12]          list←↑list[;1]</code>
<code> [13]      :Else</code>
<code class="emphasize">→[14]          list←↑{⍵↑⍨+/∧\⍵≠' '}¨{⍵↓⍨+/∧\' '=⍵}¨↓list</code>
<code> [15]      :EndIf</code>
<code class="emphasize">→[16]  :ElseIf 2=|≡list</code>
<code class="emphasize">→[17]      list←⊃list</code>
<code> [18]  :Else</code>
<code class="emphasize">→[19]      :If '*'=¯1↑list</code>
<code class="emphasize">→[20]          name←'Test_'{(⍺/⍨⍺≢(≢⍺)↑⍵),⍵}¯1↓list</code>
<code class="emphasize">→[21]          list←name{⍵⌿⍨((≢⍺)↑[2]⍵)∧.=⍺}'T'_ref.⎕NL 3</code>
<code> [22]      :Else</code>
<code class="emphasize">→[23]          list←,[0.5]list</code>
<code> [24]      :EndIf</code>
<code> [25]  :EndIf</code>
<code class="emphasize">→[26]  :If 0&lt;≢list←' '~⍨¨↓'Test_'{⍵⌿⍨⍺∧.=⍨(≢⍺)↑[1+⎕IO]⍵}list</code>
<code class="emphasize">→[27]      _ref{(0=≢⍵): ⋄ ⍺.⎕ED ⍵}&amp;list</code>
<code> [28]  :EndIf</code>
</div>
<code class="header" id="listing_11">#.Tester2.Tester2.Test_000 &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  R←Test_000(stopFlag batchFlag)</code>
<code> [1]  ⍝ Model for a test function.</code>
<code> [2]  ⍝ *** Watch out: assumes that the instance of Tester2 is called "T".</code>
<code class="emphasize">→[3]   ⎕TRAP←(999 'C' '∘∘∘ ⍝ Deliberate error')(0 'N')</code>
<code class="emphasize">→[4]   R←T._Failed</code>
<code> [5]  </code>
<code> [6]  ⍝ Establish preconditions...</code>
<code> [7]  </code>
<code class="emphasize">→[8]   →T.PassesIf 1≡1</code>
<code class="emphasize">→[9]   →T.FailsIf 1≢1</code>
<code class="emphasize">→[10]  →T.GoToTidyUp 1≢1</code>
<code> [11] </code>
<code class="emphasize">→[12]  R←T._OK</code>
<code> [13] </code>
<code class="emphasize">→[14] ∆TidyUp: ⍝ Clean up after this label</code>
<code> [15]   ⍝ ...</code>
</div>
<code class="header" id="listing_12">#.Tester2.Tester2.CRLF &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←CRLF</code>
<code class="emphasize">→[1]  r←⎕UCS 13 10</code>
</div>
<code class="header" id="listing_13">#.Tester2.Tester2.Prepare &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  Prepare</code>
<code> [1]  ⍝ Creates an instance of the class `Tester2` named `T` and configures it for</code>
<code> [2]  ⍝ Assumes that the project is handled by the project manager "Cider", and that there is</code>
<code> [3]  ⍝ a namespace ##.CiderConfig available with the Cider config parameters.</code>
<code> [4]  ⍝ As a side effect is creates a folder "TestResults" in the project's root folder if the</code>
<code> [5]  ⍝ user wants to do code coverage with the `CodeCoverage` class.</code>
<code class="emphasize">→[6]   ⎕IO←1 ⋄ ⎕ML←1</code>
<code class="emphasize">→[7]   T←⎕NEW Tester2 ⎕THIS</code>
<code class="emphasize">→[8]   testPath←##.CiderConfig.HOME,'/TestResults'</code>
<code class="emphasize">→[9]   testFilename←testPath,'/CodeCoverage'</code>
<code class="emphasize">→[10]  flag←0</code>
<code class="emphasize">→[11]  :If ⎕NEXISTS testPath</code>
<code class="emphasize">→[12]      :If ⎕NEXISTS testFilename,'.profile'</code>
<code class="emphasize">→[13]          ind←('Code Coverage' 0 1)CommTools.Select'Append' 'Replace' 'Neither'</code>
<code class="emphasize">→[14]          →(3=ind)/0</code>
<code class="emphasize">→[15]          flag←1</code>
<code class="emphasize">→[16]          :If 2=ind</code>
<code class="emphasize">→[17]              1 CodeCoverage.DeleteFiles testFilename</code>
<code> [18]          :EndIf</code>
<code> [19]      :Else</code>
<code class="emphasize">→[20]          flag←0 CommTools.YesOrNo'Code coverage?'</code>
<code> [21]      :EndIf</code>
<code> [22]  :Else</code>
<code class="emphasize">→[23]      flag←0 CommTools.YesOrNo'Code coverage?'</code>
<code> [24]  :EndIf</code>
<code class="emphasize">→[25]  :If flag</code>
<code class="emphasize">→[26]      3 ⎕MKDIR testPath  ⍝</code>
<code class="emphasize">→[27]      T.codeCoverage←⎕NEW CodeCoverage(,⊂'#.',{⍵,'.',⍵}2↓⍕⎕THIS.##)</code>
<code class="emphasize">→[28]      T.codeCoverage.filename←testFilename</code>
<code> [29]  :EndIf</code>
</div>
<code class="header" id="listing_14">#.Tester2.Tester2.RunTests &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  RunTests</code>
<code> [1]  ⍝ 1. Prepares the test framework</code>
<code> [2]  ⍝ 2. Runs all test cases</code>
<code> [3]  ⍝ 3. Processes the code coverage data (if collected)</code>
<code> [4]  ⍝ 4. Asks the user whether the code coverage report should be put on view</code>
<code class="emphasize">→[5]   Prepare</code>
<code class="emphasize">→[6]   T.Run 1</code>
<code class="emphasize">→[7]   :If 0&lt;≢T.codeCoverage</code>
<code class="emphasize">→[8]       {}CodeCoverage.ProcessData T.codeCoverage.filename</code>
<code class="emphasize">→[9]       option←'Type of code coverage report' 0 1 CommTools.Select'Overview' 'Verbose' 'None'</code>
<code class="emphasize">→[10]      :If 3&gt;option</code>
<code class="emphasize">→[11]          verbose←2=option</code>
<code class="emphasize">→[12]          htmlFilename←verbose CodeCoverage.CreateReport T.codeCoverage.filename</code>
<code class="emphasize">→[13]          ⎕←']Open file://',htmlFilename</code>
<code> [14]      :EndIf</code>
<code> [15]  :EndIf</code>
</div>
<code class="header" id="listing_15">#.Tester2.Tester2.RunTestsInBatchMode &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> (success log)←RunTestsInBatchMode</code>
<code> [1] ⍝ Runs all test with the batch flag on and the debug flag off.</code>
<code> [2] ⍝ Returns a two-item vector:\\</code>
<code> [3] ⍝ [1] Boolean with 1 indicating success and 0 failure\\</code>
<code> [4] ⍝ [2] A vector of character vectors with the messages</code>
<code class="emphasize">→[5]  Prepare</code>
<code class="emphasize">→[6]  (rc log)←T.RunBatchTests 0</code>
<code class="emphasize">→[7]  success←rc=0</code>
</div>
<code class="header" id="listing_16">#.Tester2.Tester2.NotifyAcreAndLinkAndDeleteOldVersion &mdash; 50%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←NotifyAcreAndLinkAndDeleteOldVersion(oldName newName)</code>
<code> [1]   r←⍬</code>
<code> [2]   :If 0&lt;⎕SE.⎕NC'acre'</code>
<code class="emphasize">→[3]       :Trap 22</code>
<code class="emphasize">→[4]           rc←⎕SE.acre.SetChanged newName</code>
<code> [5]       :Else</code>
<code class="emphasize">→[6]           ∘∘∘ ⍝ Huh?! What's up?</code>
<code> [7]       :EndTrap</code>
<code class="emphasize">→[8]       :If 0&lt;≢rc</code>
<code class="emphasize">→[9]           ⎕SE.acre.Erase oldName</code>
<code class="emphasize">→[10]          :Return</code>
<code> [11]      :EndIf</code>
<code> [12]  :EndIf</code>
<code> [13]  :If 3≤{⊃(//)⎕VFI ⍵↑⍨¯1+⍵⍳'.'}⎕SE.Link.Version</code>
<code> [14]      rc←⎕SE.Link.Add(⍕_ref),'.',newName</code>
<code> [15]      →('Not in a linked namespace: '{⍺≡(≢⍺)↑⍵}rc)/0</code>
<code> [16]      :If 'Added: '{⍺≡(≢⍺)↑⍵}rc</code>
<code> [17]          rc←⎕SE.Link.Expunge(⍕_ref),'.',oldName</code>
<code> [18]          :If ~rc</code>
<code class="emphasize">→[19]              ∘∘∘ ⍝ Huh?! What's up?</code>
<code> [20]          :EndIf</code>
<code> [21]      :EndIf</code>
<code> [22]  :Else</code>
<code class="emphasize">→[23]      ⎕←'Incompatible version of Link detected; we need 3.0.0 or better'</code>
<code> [24]  :EndIf</code>
</div>
<code class="header" id="listing_17">#.Tester2.Tester2.GetTestTemplate &mdash; 52%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←{groupName}GetTestTemplate no</code>
<code> [1]   :Access Public Instance</code>
<code> [2]        ⍝ Injects the code (body) of the test template function into the namespace hosting the test cases if that is an</code>
<code> [3]        ⍝ ordinary namespace. If it is a scripted one the user will be prompted for copying the body to the clipboard.</code>
<code> [4]        ⍝ The user can then inject that code herself into the scripted namespace/class.</code>
<code> [5]   r←⍬</code>
<code> [6]   groupName←{0&lt;⎕NC ⍵:⍎⍵ ⋄ ''}'groupName'</code>
<code> [7]   'Invalid right argumet: must be an integer between 1 and 999'Assert(⊂no)∊(⍳999)</code>
<code> [8]   'Invalid left argumet: must be a char vector'Assert((≡groupName)∊0 1)∧' '≡⊃0⍴groupName</code>
<code> [9]   body←A.DTB↓180⌶'Test_000'</code>
<code> [10]  :If 0=≢groupName</code>
<code> [11]      newName←'Test_',(¯3↑'000',⍕no)</code>
<code> [12]      (1⊃body)←'←Test_000\('⎕R('←',newName,'(')⍠('Greedy' 0)⊣1⊃body</code>
<code> [13]  :Else</code>
<code class="emphasize">→[14]      newName←'Test_',groupName,'_',(¯3↑'000',⍕no)</code>
<code class="emphasize">→[15]      (1⊃body)←'←Test_000\('⎕R('←',newName,'(')⍠('Greedy' 0)⊣1⊃body</code>
<code> [16]  :EndIf</code>
<code> [17]  :If 0&lt;_ref.⎕NC newName</code>
<code class="emphasize">→[18]      :If 3=_ref.⎕NC newName</code>
<code class="emphasize">→[19]          :If 0=1 YesOrNo'Function &lt;',newName,'&gt; already exists! Overwrite?'</code>
<code class="emphasize">→[20]              :Return</code>
<code> [21]          :EndIf</code>
<code> [22]      :Else</code>
<code class="emphasize">→[23]          11 ⎕SIGNAL⍨'The name &lt;'.newName,'&gt; is already taken!'</code>
<code> [24]      :EndIf</code>
<code> [25]  :EndIf</code>
<code> [26]  :If {16::0 ⋄ 1⊣⎕SRC ⍵}_ref</code>
<code class="emphasize">→[27]      :If 1 YesOrNo'Cannot fix function in  a script; shall the body be copied to the clipboard?'</code>
<code class="emphasize">→[28]          'cl'⎕WC'Clipboard'</code>
<code class="emphasize">→[29]          cl.Text←2↓⊃,/(⊂CRLF),¨body</code>
<code> [30]      :Else</code>
<code class="emphasize">→[31]          ⎕←'No action taken'</code>
<code> [32]      :EndIf</code>
<code> [33]  :Else</code>
<code> [34]      _ref.⎕FX body</code>
<code> [35]  :EndIf</code>
</div>
<code class="header" id="listing_18">#.Tester2.Tester2.GoToTidyUp &mdash; 67%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←{label}GoToTidyUp flag</code>
<code> [1]  ⍝ Returns either an empty vector or `label, which defaults to `∆TidyUp`.\\</code>
<code> [2]  ⍝ Signals 999 when `flag` is 1 and `stopFlag` exists and is 1.</code>
<code> [3]   :Access Public Instance</code>
<code> [4]   ⎕EX'∆FAILING_LINE'</code>
<code> [5]   :If 1=flag</code>
<code> [6]   :AndIf 0&lt;_ref.⎕NC'stopFlag'</code>
<code class="emphasize">→[7]   :AndIf _ref.stopFlag</code>
<code class="emphasize">→[8]       ⎕SIGNAL 999</code>
<code> [9]   :EndIf</code>
<code> [10]  label←{(0&lt;⎕NC ⍵):⍎⍵ ⋄ r←_ref.⍎'∆TidyUp'}'label'</code>
<code> [11]  r←flag/label</code>
<code> [12]  :If _ref.batchFlag</code>
<code class="emphasize">→[13]      ∆FAILING_LINE←2⊃⎕LC</code>
<code> [14]  :EndIf</code>
</div>
<code class="header" id="listing_19">#.Tester2.Tester2.YesOrNo &mdash; 67%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←{x}YesOrNo y</code>
<code> [1]  :If 0=⎕NC'x'</code>
<code> [2]      r←##.CommTools.YesOrNo y</code>
<code> [3]  :Else</code>
<code class="emphasize">→[4]      r←x ##.CommTools.YesOrNo y</code>
<code> [5]  :EndIf</code>
</div>
<code class="header" id="listing_20">#.Tester2.Tester2.ListTestFunctions &mdash; 74%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←{x}ListTestFunctions groupName</code>
<code> [1]  ⍝ Returns a matrix with two columns with the names of all test cases in the first column and the</code>
<code> [2]  ⍝ first comment line in the second column.\\</code>
<code> [3]  ⍝ If `groupName` is not empty then it will return only the members of that group (case dependent) or,</code>
<code> [4]  ⍝ if the expression carries a wildcard, all groups matching the given string.\\</code>
<code> [5]  ⍝ `groupName` may or may not start with `Test_`.\\</code>
<code> [6]  ⍝ If the optional left argument (`numbers`)" is defined only those numbers are returned.</code>
<code> [7]   :Access Public Instance</code>
<code> [8]   x←{(0&lt;⎕NC ⍵):⍎⍵ ⋄ ⍬}'x'</code>
<code> [9]   :If (≡x)∊0 1</code>
<code> [10]      :If 0=1↑0⍴x</code>
<code> [11]          numbers←x</code>
<code> [12]          view←0</code>
<code> [13]      :Else</code>
<code class="emphasize">→[14]          view←'view'≡⎕C x</code>
<code class="emphasize">→[15]          numbers←⍬</code>
<code> [16]      :EndIf</code>
<code> [17]  :Else</code>
<code class="emphasize">→[18]      Assert 2=≢x</code>
<code class="emphasize">→[19]      (view numbers)←(0=1↑0⍴1⊃x)⌽x</code>
<code class="emphasize">→[20]      view←'view'≡⎕C view</code>
<code> [21]  :EndIf</code>
<code> [22]  r2←↓'Test_'{⍵⌿⍨((≢⍺)↑[2]⍵)∧.=⍺}'T'_ref.⎕NL 3</code>
<code> [23]  :If 0≠≢groupName</code>
<code> [24]      groupName←'Test_'{⍵↓⍨(≢⍺)×⍺≡(≢⍺)↑⍵}groupName</code>
<code> [25]      groupName←'Test_'{((⍺≢(≢⍺)↑⍵)/⍺),⍵}groupName</code>
<code> [26]      groupName,←('*'≠¯1↑groupName)/'_'</code>
<code> [27]      groupName←(-'*'=¯1↑groupName)↓groupName</code>
<code> [28]      r2/⍨←groupName∘≡¨(≢groupName)↑¨r2,¨' '</code>
<code> [29]  :EndIf</code>
<code> [30]  :If 0=≢r2</code>
<code> [31]      r←0 2⍴⊂''</code>
<code> [32]  :Else</code>
<code> [33]      r2←A.DTB r2</code>
<code> [34]      :If 0≠≢numbers</code>
<code> [35]          r2←((({⊃∘⊃∘(//)∘⎕VFI ⍵↑⍨-(-1)+'_'⍳⍨⌽⍵}¨r2))∊numbers)⌿r2</code>
<code> [36]      :EndIf</code>
<code> [37]      buff←1↓¨_ref GetFirstCommentLine¨r2</code>
<code> [38]      buff←A.DLB buff</code>
<code> [39]      r2←r2,[1.5]buff</code>
<code> [40]      r2←r2[⍋↑⎕C r2[;1];]</code>
<code> [41]      longestName←⌈/≢¨r2[;1]</code>
<code> [42]      longestName←⌈/≢¨r2[;1]</code>
<code> [43]      :If ~view</code>
<code> [44]      :AndIf 0&lt;≢r2</code>
<code> [45]      :AndIf ⎕PW&lt;longestName+3+⌈/≢¨r2[;2]</code>
<code class="emphasize">→[46]          max←⎕PW-3+longestName</code>
<code class="emphasize">→[47]          b←max&lt;≢¨r2[;2]</code>
<code class="emphasize">→[48]          (b⌿r2[;2])←((max-4)↑¨b/r2[;2]),¨⊂'...'</code>
<code> [49]      :EndIf</code>
<code> [50]      r←r2</code>
<code> [51]      :If view</code>
<code class="emphasize">→[52]          {{}(#.⎕NS'').(⎕ED⍠('ReadOnly' 1)&amp;{'ed'}ed←⍵)}r</code>
<code class="emphasize">→[53]          r←0 0⍴⍬</code>
<code> [54]      :EndIf</code>
<code> [55]  :EndIf</code>
</div>
<code class="header" id="listing_21">#.Tester2.Tester2.ProcessTestCases &mdash; 82%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>   ProcessTestCases(ref ps)</code>
<code> [1]    cw←≢max←⍕noOf←≢ps.list</code>
<code> [2]    length←2+⌈/≢¨ps.list</code>
<code> [3]    length2←length+≢'(',max,'/',max,')  '</code>
<code> [4]    :If ps.guiFlag</code>
<code> [5]        :If 0&lt;≢ps.list</code>
<code> [6]            ps.ref2Gui.∆n.Grid.Values←(noOf,1↓⍴ps.ref2Gui.∆n.Grid.Values)⍴ps.ref2Gui.∆n.Grid.Values</code>
<code> [7]            ps.ref2Gui.∆n.Grid.CellTypes←(noOf,1↓⍴ps.ref2Gui.∆n.Grid.Values)⍴ps.ref2Gui.∆n.Grid.CellTypes</code>
<code> [8]            2 ⎕NQ ps.ref2Gui.∆n.Form'Flush'</code>
<code> [9]        :EndIf</code>
<code> [10]       :If ps.ref2Gui.∆n.∆Closed</code>
<code class="emphasize">→[11]           ⎕SIGNAL QuitEvent</code>
<code> [12]       :EndIf</code>
<code> [13]       ps.ref2Gui.∆n.Form.on9998←0</code>
<code> [14]       ps.ref2Gui.∆n.StartBtn.Active←0</code>
<code> [15]       ps.stopFlag←⊃{⍵≡(≢⍵)↑1:0 ⋄ ⍵/0 1 2 4 3 5 7 6}ps.ref2Gui.∆n.StopFlag.SelItems</code>
<code> [16]       ps.trapFlag←ps.ref2Gui.∆n.TrapErrors.State</code>
<code> [17]       {2 ⎕NQ ps.ref2Gui.∆n.Grid'SetColSize'⍵ ¯3}¨¯1↓3↓⍳2⊃⍴ps.ref2Gui.∆n.Grid.Values</code>
<code> [18]   :EndIf</code>
<code> [19]   i←0</code>
<code> [20]   :Repeat</code>
<code> [21]       i+←1</code>
<code> [22]       testFns←i⊃ps.list</code>
<code> [23]       currentGroup←GetGroupName Remove∆Test_ testFns</code>
<code> [24]       currentGroup←(~∧/currentGroup∊⎕D)/currentGroup  ⍝ If it's just digits its a number rather than a group name</code>
<code> [25]       testNo←GetTestNo testFns</code>
<code> [26]       :Trap QuitEvent,ps.trapFlag/0</code>
<code> [27]           :If ps.guiFlag</code>
<code> [28]           :AndIf ps.ref2Gui.∆n.PauseBtn.State</code>
<code> [29]               ps.ref2Gui.∆n.Info.Text←'PAUSING'</code>
<code> [30]               {0=⍵.ref2Gui.∆n.PauseBtn.State:shy←1 ⋄ _←⎕DL 0.3 ⋄ ∇ ⍵}ps</code>
<code> [31]           :EndIf</code>
<code> [32]           ¯1 ShowLog(length2↑(length↑testFns),' (',(cw 0⍕i),'/',max,')')</code>
<code> [33]           i AddToGui(length2↑(length↑'  ',testFns),' (',(cw 0⍕i),'/',max,')')</code>
<code> [34]           (continueFlag i noOf)←HandleInitialize(ref ps currentGroup i noOf)</code>
<code> [35]           :If continueFlag</code>
<code> [36]               HandleCleanup ref ps currentGroup i</code>
<code> [37]               :Continue</code>
<code> [38]           :EndIf</code>
<code> [39]           rc←ExecuteTestFunction ref ps testNo testFns</code>
<code> [40]           :If ' '=1↑0⍴rc   ⍝ Custom message?</code>
<code> [41]               :If (⊂rc)∊ListCustomMessages[;2]                      ⍝ Is it a valid custom message?</code>
<code> [42]                   rc←-⍎¯1↑ListSymbolicNames{⊃⍺[1⍳⍨⍺[;2]≡¨⊂⍵;]}rc    ⍝ Translate custom msg into return code</code>
<code> [43]               :Else</code>
<code class="emphasize">→[44]                   ⎕←'Current test function (',testFns,')'</code>
<code class="emphasize">→[45]                   ⎕←'returned an invalid result: neither a valid numeric code (symbolic name) nor a custom message'</code>
<code class="emphasize">→[46]                   ∘∘∘</code>
<code> [47]               :EndIf</code>
<code> [48]           :EndIf</code>
<code> [49]           ps.totalCounter+←1</code>
<code> [50]           ps.failedCounter+←rc=1</code>
<code> [51]           :If 0&gt;rc</code>
<code> [52]               ps.returnCodes,←rc</code>
<code> [53]           :EndIf</code>
<code> [54]           ps AddReturnCodeToGrid rc i</code>
<code> [55]           comment←2↓ref GetFirstCommentLine testFns</code>
<code> [56]           desc←(⎕PW-length2){⍺&lt;≢⍵:'...',⍨⍵↑⍨⍺-4 ⋄ ⍵}⍣(~ps.guiFlag)⊢comment</code>
<code> [57]           :If rc∊0 1</code>
<code> [58]               marker←('*✓'[1+rc=0])</code>
<code> [59]           :Else</code>
<code> [60]               marker←'⍝'</code>
<code> [61]           :EndIf</code>
<code> [62]           3 ShowLog marker,' ',desc,ReportLineNumber</code>
<code> [63]           i AddToGui(length2↑(length↑marker,' ',testFns),' (',(cw 0⍕i),'/',max,')'),' ⍝ ',desc,ReportLineNumber</code>
<code> [64]           ⎕EX'∆FAILING_LINE'</code>
<code> [65]           :If ~rc∊_OK,_Failed</code>
<code> [66]           :AndIf ps.guiFlag</code>
<code> [67]           :AndIf ps.ref2Gui.∆n.∆Closed=0</code>
<code> [68]               (GetSymbolicName rc)ReportInactiveToGUI i ref testFns ps.ref2Gui.∆n</code>
<code> [69]           :EndIf</code>
<code> [70]           :If 0&gt;rc</code>
<code> [71]               :If 0&lt;ps.errCounter</code>
<code class="emphasize">→[72]                   rc←1</code>
<code> [73]               :EndIf</code>
<code> [74]           :EndIf</code>
<code> [75]       :Case QuitEvent</code>
<code> [76]           HandleCleanup ref ps currentGroup i</code>
<code> [77]           ⎕SIGNAL QuitEvent</code>
<code> [78]       :Else</code>
<code class="emphasize">→[79]           ps.errCounter+←1</code>
<code class="emphasize">→[80]           ps.totalCounter+←1</code>
<code class="emphasize">→[81]           comment←2↓ref GetFirstCommentLine testFns</code>
<code class="emphasize">→[82]           desc←(⎕PW-length2){⍺&lt;≢⍵:'...',⍨⍵↑⍨⍺-4 ⋄ ⍵}⍣(~ps.guiFlag)⊢comment</code>
<code class="emphasize">→[83]           marker←'#'</code>
<code class="emphasize">→[84]           ¯2 ShowLog marker' ',desc</code>
<code class="emphasize">→[85]           i AddToGui(length2↑(length↑marker,' ',testFns),' (',(cw 0⍕i),'/',max,')'),' ⍝ ',desc</code>
<code class="emphasize">→[86]           :If ps.guiFlag</code>
<code class="emphasize">→[87]               ps.ref2Gui.∆n.Grid.Values[i;4]←⊂'{Broken}'</code>
<code> [88]           :EndIf</code>
<code> [89]       :EndTrap</code>
<code> [90]       HandleCleanup ref ps currentGroup i</code>
<code> [91]       {}⎕WA  ⍝ Enforce a memory compaction in order to get rid of any rubbish.</code>
<code> [92]       :If ps.guiFlag</code>
<code> [93]       :AndIf 0=ps.ref2Gui.∆n.∆Closed</code>
<code> [94]           ps.stopFlag←⊃{⍵≡(≢⍵)↑1:0 ⋄ ⍵/0 1 2 4 3 5 7 6}ps.ref2Gui.∆n.StopFlag.SelItems</code>
<code> [95]           ps.trapFlag←ps.ref2Gui.∆n.TrapErrors.State</code>
<code> [96]           ProcessGuiEvents ps.ref2Gui.∆n</code>
<code> [97]       :AndIf ps.ref2Gui.∆n.∆Closed</code>
<code class="emphasize">→[98]           ⎕SIGNAL QuitEvent</code>
<code> [99]       :EndIf</code>
<code> [100]  :Until i≥≢ps.list</code>
<code> [101]  :If ps.guiFlag</code>
<code> [102]      ps.ref2Gui.∆n.Info.Text←''</code>
<code> [103]  :EndIf</code>
<code> [104] ⍝Done</code>
</div>
<code class="header" id="listing_22">#.Tester2.Tester2.ReportInactiveToGUI &mdash; 82%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←constant ReportInactiveToGUI(row ref testFns n)</code>
<code> [1]      ⍝ Tries to find `constant` in the code of the test function (text and comments are ignored).</code>
<code> [2]      ⍝ It then looks for a comment after the assignment. That comment, if there is any, will be</code>
<code> [3]      ⍝ shown in the GUI's "Result` column.</code>
<code> [4]      ⍝ `constant` is something like "_Inactive".</code>
<code> [5]   r←⍬</code>
<code> [6]   body←ref.⎕NR testFns</code>
<code> [7]   :If 0&lt;≢body←(∨/¨('.',constant)∘⍷¨body)/body</code>
<code> [8]       body←'''[^'']+'''⎕R''⊣body</code>
<code> [9]       body2←({~∨\'⍝'=⍵}¨body)/¨body</code>
<code> [10]      body←(∨/¨('.',constant)∘⍷¨body2)/body</code>
<code> [11]  :AndIf 1=≢body</code>
<code> [12]      body←1⊃body</code>
<code> [13]  :AndIf '⍝'∊body</code>
<code class="emphasize">→[14]      n.Grid.Values[row;4]←⊂(1↓constant),':',{⍵↓⍨⍵⍳'⍝'}body</code>
<code class="emphasize">→[15]      2 ⎕NQ n.Grid'SetColSize' 4 ¯3</code>
<code> [16]  :EndIf</code>
</div>
<code class="header" id="listing_23">#.Tester2.Tester2.AddToGui &mdash; 85%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←row AddToGui msg</code>
<code> [1]   r←⍬</code>
<code> [2]   :If ps.guiFlag</code>
<code> [3]       n←ps.ref2Gui.∆n</code>
<code> [4]       :If 0=n.∆Closed</code>
<code> [5]           n.Grid.Values[row;1]←⊃msg</code>
<code> [6]           cols←1 2 3 4</code>
<code> [7]           :Select ⊃⊃msg</code>
<code> [8]           :Case '✓'</code>
<code> [9]               n.Grid{2 ⎕NQ ⍺'SetCellType'row ⍵ 2}¨cols</code>
<code> [10]          :CaseList '⍝-'</code>
<code> [11]              n.Grid{2 ⎕NQ ⍺'SetCellType'row ⍵ 5}¨cols</code>
<code> [12]          :Case '#'</code>
<code class="emphasize">→[13]              n.Grid{2 ⎕NQ ⍺'SetCellType'row ⍵ 3}¨cols</code>
<code> [14]          :Case '*'</code>
<code class="emphasize">→[15]              n.Grid{2 ⎕NQ ⍺'SetCellType'row ⍵ 4}¨cols</code>
<code> [16]          :EndSelect</code>
<code> [17]          n.Grid.CurCell←row 4</code>
<code> [18]          colHeaderHeight←25</code>
<code> [19]          noOfLines←⌊n.Grid.Size[1]÷⊃n.Grid.CellHeights</code>
<code> [20]          :If row=n.Grid.Index[1]+noOfLines-1</code>
<code class="emphasize">→[21]              n.Grid.Index[1]←row-1</code>
<code> [22]          :EndIf</code>
<code> [23]      :EndIf</code>
<code> [24]  :EndIf</code>
</div>
<code class="header" id="listing_24">#.Tester2.Tester2.ExecuteTestFunction &mdash; 86%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  rc←ExecuteTestFunction(ref ps testNo fnsName)</code>
<code> [1]   :If 0=ps.batchFlag</code>
<code> [2]   :AndIf 0=+/'⎕TRAP'⍷1 ⎕C{⍵↑⍨⍵⍳'⍝'}{⊃,/⍵↑⍨1++/∧\';'=1↓⊃¨A.DLB ⍵}ref.⎕NR fnsName</code>
<code> [3]       ShowLog'  *** WARNING: ⎕TRAP is not localized in ',(⍕ref),'.',fnsName</code>
<code> [4]   :EndIf</code>
<code> [5]   :If 0&lt;≢_codeCoverage</code>
<code class="emphasize">→[6]       _codeCoverage.Start ⍬</code>
<code> [7]   :EndIf</code>
<code> [8]   HandleStops(1⊃⎕SI)ps ∆StopHere testNo fnsName</code>
<code> [9]   :If ps.guiFlag</code>
<code> [10]      ps.ref2Gui.∆n.Info.Text←'Executing ',(⍕ref),'.',fnsName,'...'</code>
<code> [11]  :EndIf</code>
<code> [12]  :If 0&lt;≢_exec_before_each_test</code>
<code> [13]      :If 0=1 1⊃⎕AT _exec_before_each_test</code>
<code> [14]          ⍎_exec_before_each_test,' fnsName ps'</code>
<code> [15]      :Else</code>
<code> [16]          :If 0&lt;≢buff←⍎_exec_before_each_test,' fnsName ps'</code>
<code> [17]              ⎕←buff</code>
<code> [18]          :EndIf</code>
<code> [19]      :EndIf</code>
<code> [20]  :EndIf</code>
<code> [21] ∆StopHere:rc←ref.⍎fnsName,' ',(⍕ps.debugFlag),' ',(⍕ps.batchFlag)</code>
<code> [22]  :If 0&lt;≢_exec_after_each_test</code>
<code> [23]      :If 0=1 1⊃⎕AT _exec_after_each_test</code>
<code> [24]          ⍎_exec_after_each_test,' fnsName ps'</code>
<code> [25]      :Else</code>
<code class="emphasize">→[26]          :If 0&lt;≢buff←⍎_exec_after_each_test,' fnsName ps'</code>
<code class="emphasize">→[27]              ⎕←buff</code>
<code> [28]          :EndIf</code>
<code> [29]      :EndIf</code>
<code> [30]  :EndIf</code>
<code> [31]  :If 0&lt;≢_codeCoverage</code>
<code> [32]      _codeCoverage.Stop ⍬</code>
<code> [33]  :EndIf</code>
<code> [34]     ⍝Done</code>
</div>
<code class="header" id="listing_25">#.Tester2.Tester2.make1 &mdash; 87%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  make1 ref</code>
<code> [1]      ⍝ Requires a reference as the right argument which points to the namespace that hosts the test cases .\\</code>
<code> [2]      ⍝ All instance methods will use that reference in order to find the test cases.</code>
<code> [3]   :Access Public Instance</code>
<code> [4]   :Implements Constructor</code>
<code> [5]   A←(⊃⊃⎕CLASS ⎕THIS).##.APLTreeUtils2</code>
<code> [6]   _ref←ref</code>
<code> [7]   _ref2GUI←⍬</code>
<code> [8]   _parms←CreateParms ⍬</code>
<code> [9]   _INI←⍬</code>
<code> [10]  _custom_1←_custom_2←_custom_3←_custom_4←_custom_5←_custom_6←_custom_7←_custom_8←_custom_9←⍬''</code>
<code> [11]  _exec_before_each_test←_exec_after_each_test←''</code>
<code> [12]  _codeCoverage←''</code>
<code> [13]  :If 0&lt;≢parent←'AcreConfig'{⍵∊# ⎕SE:'' ⋄ 0&lt;⍵.⎕NC ⍺:⍵ ⋄ ⍺ ∇ ⍵.##}_ref</code>
<code class="emphasize">→[14]      _IniFolder←parent.AcreConfig.ProjectFolder</code>
<code> [15]  :ElseIf 9=_ref.⎕NC'CiderConfig'</code>
<code class="emphasize">→[16]      _IniFolder←_ref.CiderConfig.HOME</code>
<code> [17]  :ElseIf 9=_ref.##.⎕NC'CiderConfig'</code>
<code> [18]      _IniFolder←_ref.##.CiderConfig.HOME</code>
<code> [19]  :Else</code>
<code> [20]      _IniFolder←''</code>
<code> [21]  :EndIf</code>
</div>
<code class="header" id="listing_26">#.Tester2.Tester2.RunGUI &mdash; 88%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {(rc log)}←{parms}RunGUI these</code>
<code> [1]      ⍝ Runs `these` test cases, which defaults to _all_ in case `these` is empty.\\</code>
<code> [2]      ⍝ The user can set all sorts of parameters via the GUI.\\</code>
<code> [3]      ⍝ Note that this is a Windows-only feature.\\</code>
<code> [4]      ⍝ The left argument is useful only for defining defaults on the GUI.\\</code>
<code> [5]      ⍝ See also `Run` which does vasically the same but without a GUI.\\</code>
<code> [6]      ⍝ DO NOT localyze `_parms` in this function!</code>
<code> [7]   :Access Public Instance</code>
<code> [8]   :If 'Win'≡A.GetOperatingSystem''</code>
<code> [9]       _parms←{0&lt;⎕NC ⍵:⍎⍵ ⋄ CreateParms ⍬}'parms'</code>
<code> [10]      CloseGUI</code>
<code> [11]      _parms.testCaseNos←these</code>
<code> [12]      _parms.guiFlag←1</code>
<code> [13]      _parms.testCaseNos←these</code>
<code> [14]      (rc log)←Run__ _parms</code>
<code> [15]  :Else</code>
<code class="emphasize">→[16]      'RunGUI is Windows-only'⎕SIGNAL 11</code>
<code> [17]  :EndIf</code>
</div>
<code class="header" id="listing_27">#.Tester2.Tester2.Run__ &mdash; 88%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>   {(rc log)}←Run__ ps</code>
<code> [1]           ⍝ Run all test cases to be found in `_ref`.\\</code>
<code> [2]           ⍝ The right argument is a parameter space, typically created by calling `CreateParms ⍬`.\\</code>
<code> [3]           ⍝ The shy explicit result is a two-element vector:</code>
<code> [4]           ⍝ 1. `r ←→  0 &lt;log&gt;`  when all tests got executed succesfully.\\</code>
<code> [5]           ⍝    `r ←→  1 &lt;log&gt;`  when at least one test failed</code>
<code> [6]           ⍝    `r ←→  2 &lt;log&gt;   when `Initial` prevented any test case to be executed.\\</code>
<code> [7]           ⍝ 2. Nested vector with the log information</code>
<code> [8]    :Access Public Instance</code>
<code> [9]    ⎕TRAP←(QuitEvent'C' '→∆GetOutOfHere')(PassEvent'C'('⎕SIGNAL ',⍕PassEvent))((0 1000)'N')</code>
<code> [10]   _ref.Stop←ps.stopFlag    ⍝ "Stop" is honored by "FailsIf" &amp; "PassesIf"</code>
<code> [11]   _INI←⍬                   ⍝ Flatten any leftovers</code>
<code> [12]   ps.(log errCounter failedCounter totalCounter)←'' 0 0 0</code>
<code> [13]   ps.guiFlag∧←'Win'≡A.GetOperatingSystem ⍬  ⍝ Windows only, if at all</code>
<code> [14]   :If ps.guiFlag</code>
<code> [15]       _parms.ref2Gui←ps.ref2Gui←ps CreateGui ⍬</code>
<code> [16]   :EndIf</code>
<code> [17]   ShowLog{'--- Test framework "Tester2" version ',(2⊃⍵),' from ',(3⊃⍵),' ----'}Version</code>
<code> [18]   _ref←ProcessIniFiles _ref ps</code>
<code> [19]   ps.returnCodes←⍬</code>
<code> [20]   initialFlag←0 ⍝ Tells whether `Initial was executed or not</code>
<code> [21]   :If 0=≢ps.list←{⍵[;1]}ListTestFunctions''</code>
<code> [22]       →∆GetOutOfHere,rc←0</code>
<code> [23]   :EndIf</code>
<code> [24]   ProcessGroupAndTestCaseNumbers(_ref ps)</code>
<code> [25]   :If 0=≢ps.list</code>
<code> [26]       →∆GetOutOfHere,rc←0</code>
<code> [27]   :EndIf</code>
<code> [28]   →(0=≢ps.list)/∆GetOutOfHere</code>
<code> [29]   :If ps.guiFlag</code>
<code> [30]       :If 0&lt;≢ps.list</code>
<code> [31]           ps.ref2Gui.∆n.Grid.Values[⍳≢ps.list;2]←(≢'Test_')↓¨ps.list</code>
<code> [32]           ps.ref2Gui.∆n.Grid.Values[⍳≢ps.list;3]←2↓¨_ref GetFirstCommentLine¨ps.list</code>
<code> [33]           {2 ⎕NQ ps.ref2Gui.∆n.Grid'SetColSize'⍵ ¯3}¨2 3</code>
<code> [34]       :EndIf</code>
<code> [35]       {}{_←⎕DQ ⍵ ⋄ ⎕DL 0.1}⍣(0=TestFlag)⊣ps.ref2Gui.∆n.Form</code>
<code> [36]       :If ps.ref2Gui.∆n.∆Closed</code>
<code class="emphasize">→[37]           (rc log)←0 ''</code>
<code class="emphasize">→[38]           :Return</code>
<code> [39]       :EndIf</code>
<code> [40]       ps←CopyGUI2Parms ps</code>
<code> [41]   :EndIf</code>
<code> [42]   :If initialFlag←0&lt;≢ps.list</code>
<code> [43]       :If 0=ExecuteInitial _ref ps</code>
<code> [44]           :If ~CR∊⊃¯1↑ps.log</code>
<code> [45]               ShowLog'*** "Initial" could not initialize'</code>
<code> [46]           :EndIf</code>
<code> [47]           ps.errCounter←1</code>
<code> [48]           rc←2</code>
<code> [49]           ps.list←''</code>
<code> [50]           →∆GetOutOfHere</code>
<code> [51]       :Else</code>
<code> [52]           rc←0</code>
<code> [53]       :EndIf</code>
<code> [54]   :EndIf</code>
<code> [55]   ps.returnCodes←⍬</code>
<code> [56]   ps.processedGroups←''</code>
<code> [57]   ShowLog(,'--- Tests started at ',A.FormatDateTime ⎕TS),' on ',(⍕_ref),' ---'</code>
<code> [58]   buff←⌽(8⍴2)⊤ps.stopFlag</code>
<code> [59]   buff[1]∨←¯1∊×ps.testCaseNos</code>
<code> [60]   ps.stopFlag←2⊥⌽buff</code>
<code> [61]   ProcessTestCases _ref ps</code>
<code> [62]  ∆GetOutOfHere:</code>
<code> [63]   :If 0&lt;⎕NC'∆TRAPS_IN_SESSION'</code>
<code> [64]       {}600⌶∆TRAPS_IN_SESSION ⍝ Restore former setting</code>
<code> [65]       ⎕EX'∆TRAPS_IN_SESSION'</code>
<code> [66]   :EndIf</code>
<code> [67]   :If ps.guiFlag</code>
<code> [68]   :AndIf {6::1 ⋄ 0⊣⍵.Type}ps.ref2Gui.∆n.Form</code>
<code class="emphasize">→[69]       ⎕←'*** Tests cancelled'</code>
<code class="emphasize">→[70]       log←ps.log</code>
<code class="emphasize">→[71]       →0</code>
<code> [72]   :EndIf</code>
<code> [73]   _INI←⍬                    ⍝ Flatten any leftovers</code>
<code> [74]   :If 0&lt;ps.⎕NC'list'        ⍝ Then no test cases got executed, probably because `Initial` failed.</code>
<code> [75]   :AndIf 0&lt;≢ps.list</code>
<code> [76]       (rc2 log)←ReportTestResults ps</code>
<code> [77]       :If rc2≠2</code>
<code> [78]           rc←rc2</code>
<code> [79]       :EndIf</code>
<code> [80]       _ref.TestCasesExecutedAt←A.FormatDateTime ⎕TS</code>
<code> [81]       ShowLog'Time of execution recorded on variable ',(⍕_ref),'.TestCasesExecutedAt as: ',_ref.TestCasesExecutedAt</code>
<code> [82]   :EndIf</code>
<code> [83]   :If initialFlag</code>
<code> [84]       {}ExecuteCleanup _ref ps</code>
<code> [85]   :EndIf</code>
<code> [86]   :If 0&lt;≢_codeCoverage</code>
<code class="emphasize">→[87]       :If 0=≢res←_codeCoverage.Finalise 1</code>
<code class="emphasize">→[88]           ⎕←'Coverage report: nothing to report'</code>
<code> [89]       :Else</code>
<code class="emphasize">→[90]           ShowLog'Coverage report: ',res</code>
<code> [91]       :EndIf</code>
<code> [92]   :EndIf</code>
<code> [93]   ShowLog'*** Tests done'</code>
<code> [94]   log←ps.log</code>
<code> [95]   :If ps.guiFlag</code>
<code> [96]       _ref2GUI←ps.ref2Gui</code>
<code> [97]       :If ps.ref2Gui.∆n.∆Closed   ⍝ The user has clicked the "Close" box but the GUI is still around</code>
<code class="emphasize">→[98]           CloseGUI</code>
<code> [99]       :Else</code>
<code> [100]          ps.ref2Gui.∆n.(TrapErrors Debug StopFlag StartBtn PauseBtn).Active←0</code>
<code> [101]      :EndIf</code>
<code> [102]  :EndIf</code>
</div>
<code class="header" id="listing_28">#.Tester2.Tester2.ProcessIniFiles &mdash; 91%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  ref←ProcessIniFiles(ref ps)</code>
<code> [1]   iniFilenames←''</code>
<code> [2]   iniFilename←_IniFolder,((0&lt;≢_IniFolder)/'/'),'Testcases.ini'</code>
<code> [3]   report←,⊂'Searching for INI file ',iniFilename</code>
<code> [4]   :If ⎕NEXISTS iniFilename</code>
<code> [5]       iniFilenames,←⊂iniFilename</code>
<code> [6]       report[≢report]←⊂((≢report)⊃report),': found'</code>
<code> [7]   :Else</code>
<code> [8]       report[≢report]←⊂((≢report)⊃report),': not found'</code>
<code> [9]   :EndIf</code>
<code> [10]  :If 'Win'≡A.GetOperatingSystem ⍬</code>
<code> [11]      cn←2 ⎕NQ'#' 'GetEnvironment' 'Computername'</code>
<code> [12]  :Else</code>
<code class="emphasize">→[13]      cn←⊃⎕SH'uname -n'</code>
<code> [14]  :EndIf</code>
<code> [15]  iniFilename←_IniFolder,((0&lt;≢_IniFolder)/'/'),'Testcases-',cn,'.ini'</code>
<code> [16]  report,←⊂'Searching for INI file ',iniFilename</code>
<code> [17]  :If ⎕NEXISTS iniFilename</code>
<code> [18]      iniFilenames,←⊂iniFilename</code>
<code> [19]      report[≢report]←⊂((≢report)⊃report),': found'</code>
<code> [20]  :Else</code>
<code> [21]      report[≢report]←⊂((≢report)⊃report),': not found'</code>
<code> [22]  :EndIf</code>
<code> [23]  ShowLog¨report</code>
<code> [24]  :If 0≠≢iniFilenames</code>
<code> [25]      :Trap 6</code>
<code> [26]          _INI←'flat'(⎕NEW((⊃⊃⎕CLASS ⎕THIS).##.IniFiles)(iniFilenames 1)).Convert ⎕NS''</code>
<code> [27]          ShowLog'  INI file(s) "',(⊃{⍺,',',⍵}/iniFilenames),'" found and instantiated as INI'</code>
<code> [28]          ShowLog(⍕≢iniFilenames),' INI file',((1&lt;≢iniFilenames)/'s'),' instantiated'</code>
<code> [29]      :Else</code>
<code class="emphasize">→[30]          'The class "IniFiles" is needed but missing'⎕SIGNAL 6</code>
<code> [31]      :EndTrap</code>
<code> [32]  :EndIf</code>
</div>
<code class="header" id="listing_29">#.Tester2.Tester2.ExecuteInitial &mdash; 91%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {success}←ExecuteInitial(ref ps)</code>
<code> [1]   success←1</code>
<code> [2]   report←'Looking for a function "Initial": '</code>
<code> [3]   initMsg←''</code>
<code> [4]   :If 3=ref.⎕NC'Initial'</code>
<code> [5]       :If 2⊃⌽(8⍴2)⊤ps.stopFlag</code>
<code> [6]           (∪(⎕STOP 1⊃⎕SI),∆stop1,∆stop2,∆stop3,∆stop4)⎕STOP 1⊃⎕SI</code>
<code> [7]       :Else</code>
<code> [8]           ((⎕STOP 1⊃⎕SI)~,∆stop1,∆stop2,∆stop3,∆stop4)⎕STOP 1⊃⎕SI</code>
<code> [9]       :EndIf</code>
<code> [10]      :Select ⊃(⎕IO+1)⊃1 ref.⎕AT'Initial'</code>
<code> [11]      :Case 0</code>
<code> [12]          :If 0=⊃⊃ref.⎕AT'Initial'</code>
<code> [13] ∆stop1:      ref.Initial</code>
<code> [14]          :Else</code>
<code> [15] ∆stop2:      buff←ref.Initial</code>
<code> [16]              :If ' '=1↑0⍴buff</code>
<code> [17]                  success←0=≢buff</code>
<code> [18]                  :If 0&lt;≢buff</code>
<code> [19]                      initMsg←buff</code>
<code> [20]                  :EndIf</code>
<code> [21]              :Else</code>
<code> [22]                  success←buff</code>
<code> [23]              :EndIf</code>
<code> [24]          :EndIf</code>
<code> [25]      :Case 1</code>
<code> [26]          :If 0=⊃⊃ref.⎕AT'Initial'</code>
<code class="emphasize">→[27] ∆stop3:      ref.Initial ps</code>
<code> [28]          :Else</code>
<code> [29] ∆stop4:      buff←ref.Initial ps</code>
<code> [30]              :If ' '=1↑0⍴buff</code>
<code> [31]                  success←0=≢buff</code>
<code> [32]                  :If 0&lt;≢buff</code>
<code> [33]                      initMsg←buff</code>
<code> [34]                  :EndIf</code>
<code> [35]              :Else</code>
<code class="emphasize">→[36]                  success←buff</code>
<code> [37]              :EndIf</code>
<code> [38]          :EndIf</code>
<code> [39]      :Else</code>
<code class="emphasize">→[40]          11 ⎕SIGNAL⍨'The "Initial" function in ',(⍕ref),' has an invalid signature: it''s neither monadic nor niladic'</code>
<code> [41]      :EndSelect</code>
<code> [42]      :If success</code>
<code> [43]          report,←'found and successfully executed'</code>
<code> [44]      :Else</code>
<code> [45]          report,←'found and executed but it signalled failure'</code>
<code> [46]          :If 0&lt;≢initMsg</code>
<code> [47]              report,←':',CR,initMsg</code>
<code> [48]          :EndIf</code>
<code> [49]      :EndIf</code>
<code> [50]  :Else</code>
<code> [51]      report,←'not found'</code>
<code> [52]  :EndIf</code>
<code> [53]  ShowLog report</code>
</div>
<code class="header" id="listing_30">#.Tester2.Tester2.RenameTestFnsTo &mdash; 92%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>   {r}←oldName RenameTestFnsTo newName</code>
<code> [1]        ⍝ Renames a test function or a group of test functions and tells acre and Link.\\</code>
<code> [2]        ⍝ `oldName` and `newName` **must not** contain a dot.\\</code>
<code> [3]        ⍝ Note that names of test functions are supposed to start with "Test_", so if the arguments do not start</code>
<code> [4]        ⍝ with "Test_" the string is added.</code>
<code> [5]        ⍝ Examples:</code>
<code> [6]        ⍝ ```</code>
<code> [7]        ⍝ 'Test_999'   ← 'Test_001' T.RenameTestFnsTo 'Test_999'     ⍝ Rename a single test function without group</code>
<code> [8]        ⍝ 'Test_BBB_2' ← 'Test_1' T.RenameTestFnsTo 'Test_BBB_2'     ⍝ Rename a single test function with group</code>
<code> [9]        ⍝ 'Test_BBB_2' ← 'BBB_1' T.RenameTestFnsTo 'BBB_2'           ⍝ Rename a single test function with group without "Test_"</code>
<code> [10]       ⍝ 'Test_CCC_3' ← 'Test_BBB_2' T.RenameTestFnsTo 'Test_CCC_3' ⍝ Change group and number</code>
<code> [11]       ⍝ 'Test_YYY*'  ← 'Test_AAA; T.RenameTestFnsTo 'Test_YYY'     ⍝ Rename all members of a group with full name</code>
<code> [12]       ⍝ 'Test_YYY*'  ← 'AAA' T.RenameTestFnsTo 'YYY'               ⍝ Rename all members of a group without "Test_"</code>
<code> [13]       ⍝ 'Test_VVV*'  ← '' T.RenameTestFnsTo 'Test_VVV'             ⍝ all NOT belonging to a group are renamed</code>
<code> [14]       ⍝ ```</code>
<code> [15]       ⍝ `r ← ⍬`</code>
<code> [16]   :Access Public Instance</code>
<code> [17]   r←⍬</code>
<code> [18]   (oldName newName)←oldName newName~¨' '</code>
<code> [19]   'Names must not contain dots'Assert~↑∨/'.'∊¨oldName newName</code>
<code> [20]   (oldName newName)←'Test_'∘{⍺≡(≢⍺)↑⍵:⍵ ⋄ ⍺,⍵}¨oldName newName</code>
<code> [21]   :If 0=≢buff←ListGroups</code>
<code> [22]       f1←0</code>
<code> [23]       f2←0=≢Remove∆Test_ oldName</code>
<code> [24]   :Else</code>
<code> [25]       f1←(⊂Remove∆Test_ oldName)∊(≢'Test_')↓¨{⍵[;1]}buff     ⍝ Group name?</code>
<code> [26]       f2←0=≢Remove∆Test_ oldName</code>
<code> [27]   :EndIf</code>
<code> [28]   :If f1</code>
<code> [29]       'New name is invalid'Assert ¯1≠⎕NC Remove∆Test_ newName</code>
<code> [30]   :EndIf</code>
<code> [31]   :If f1∨f2</code>
<code> [32]       list←{⍵[;1]}ListTestFunctions Remove∆Test_ oldName</code>
<code> [33]       :If f2</code>
<code> [34]           list←((⊃∘Remove∆Test_¨list)∊⎕D)/list</code>
<code> [35]       :EndIf</code>
<code> [36]       :For this :In list</code>
<code> [37]           no←{⍵↑⍨-¯1+(⌽⍵)⍳'_'}this</code>
<code> [38]           :If 0&lt;_ref.⎕NC'Test_',(Remove∆Test_ newName),'_',no  ⍝ Already occupied?</code>
<code> [39]               val←⊃(//)⎕VFI no</code>
<code> [40]                    ⍝ We need to establish the next free number:</code>
<code> [41]               no←(-≢no)↑((≢no)⍴'0'),' '~⍨⍕1+⌈/{⊃(//)⎕VFI ⍵↑⍨-¯1+(⌽⍵)⍳'_'}¨↓_ref.{l←'T'⎕NL 3 ⋄ l⌿⍨((≢⍵)↑[2]l)∧.=⍵}newName,'_'</code>
<code> [42]           :EndIf</code>
<code> [43]           this RenameTestFnsTo'Test_',(Remove∆Test_ newName),'_',no</code>
<code> [44]       :EndFor</code>
<code> [45]       →∆Go</code>
<code> [46]   :Else</code>
<code> [47]       'Function to be renamed not found'Assert 3=_ref.⎕NC oldName</code>
<code> [48]       'New name is already used'Assert 0≥_ref.⎕NC newName</code>
<code> [49]       'New name is invalid'Assert ¯1≠_ref.⎕NC newName</code>
<code> [50]   :EndIf</code>
<code> [51]   body←_ref.⎕NR oldName</code>
<code> [52]   header←⎕IO⊃body</code>
<code> [53]   (header comment)←header{⎕IO←0 ⋄ ⍺{(⍵↑⍺)(⍵↓⍺)}⍵⍳'⍝'}header</code>
<code> [54]   :If (_ref.⎕NC⊂oldName)∊3.2   ⍝ Dfns</code>
<code> [55]       :If 1=≢body</code>
<code> [56]           (oldName body)←{⎕IO←0 ⋄ ⍵{(⍵↑⍺)(⍵↓⍺)}⍵⍳'←'}⎕IO⊃body</code>
<code> [57]           body←,⊂newName,body</code>
<code> [58]           oldName~←' '</code>
<code> [59]       :Else</code>
<code class="emphasize">→[60]           (⎕IO⊃body)←newName,'←{'</code>
<code> [61]       :EndIf</code>
<code> [62]   :Else</code>
<code> [63]       (res header)←header{⎕IO←0 ⋄ ⍺{~'←'∊⍺:''⍺ ⋄ ((1+⍵)↑⍺)((1+⍵)↓⍺)}⍵⍳'←'}header</code>
<code> [64]       :If '('∊header</code>
<code> [65]           (header right)←header{⎕IO←0 ⋄ ⍺{(⍵↑⍺)(⍵↓⍺)}⍵⍳'('}header</code>
<code> [66]           header←{⎕ML←3 ⋄ ⍵⊂⍨' '≠⍵}header</code>
<code> [67]           :Select ⍬⍴⍴header</code>
<code> [68]           :Case 1       ⍝ Monadic fns</code>
<code> [69]               name←header</code>
<code> [70]               left←''</code>
<code> [71]           :Case 2        ⍝ Dyadic fns</code>
<code class="emphasize">→[72]               (left name)←header</code>
<code> [73]           :Else</code>
<code class="emphasize">→[74]               .          ⍝ ?!</code>
<code> [75]           :EndSelect</code>
<code> [76]       :Else</code>
<code> [77]           header←{⎕ML←3 ⋄ ⍵⊂⍨' '≠⍵}header</code>
<code> [78]           :Select ⍬⍴⍴header</code>
<code> [79]           :Case 1        ⍝ Niladic fns</code>
<code> [80]               name←header</code>
<code> [81]               left←right←''</code>
<code> [82]           :Case 2        ⍝ Monadic fns</code>
<code> [83]               (name right)←header</code>
<code> [84]               left←''</code>
<code> [85]           :Case 3        ⍝ Dyadic fns</code>
<code> [86]               (name right left)←header</code>
<code> [87]           :Else</code>
<code class="emphasize">→[88]               .          ⍝ ?!</code>
<code> [89]           :EndSelect</code>
<code> [90]       :EndIf</code>
<code> [91]       name←newName</code>
<code> [92]       (⎕IO⊃body)←res,left,' ',name,' ',right,comment</code>
<code> [93]   :EndIf</code>
<code> [94]   :If ' '≠1↑0⍴rc←_ref.⎕FX↑body</code>
<code class="emphasize">→[95]       . ⍝ something went wrong</code>
<code> [96]   :EndIf</code>
<code> [97]   NotifyAcreAndLinkAndDeleteOldVersion oldName newName</code>
<code> [98]  </code>
<code> [99]  ∆Go:</code>
<code> [100]  _ref.⎕EX oldName</code>
<code> [101]  :If (⊃⎕SI)≢⊃1↓⎕SI</code>
<code> [102]      r←'***Done'</code>
<code> [103]  :EndIf</code>
</div>
<code class="header" id="listing_31">#.Tester2.Tester2.ProcessGroupAndTestCaseNumbers &mdash; 93%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  ProcessGroupAndTestCaseNumbers(ref ps)</code>
<code> [1]   ps.group←''</code>
<code> [2]   :If 0≠≢ps.testCaseNos</code>
<code> [3]       :If ' '=1↑0⍴∊ps.testCaseNos</code>
<code> [4]           :If 0 1∊⍨≡ps.testCaseNos</code>
<code> [5]               ps.group←ps.testCaseNos</code>
<code> [6]               ps.testCaseNos←⍬</code>
<code> [7]           :Else</code>
<code> [8]               ps.group←1⊃ps.testCaseNos</code>
<code> [9]               'Group definition must not carry "," or "~" in case test case number were specified'Assert~∨/',~'∊ps.group</code>
<code> [10]              ps.testCaseNos←∊1↓ps.testCaseNos</code>
<code> [11]              'Test case number(s) must be numeric'Assert~∨/~{⊃0=1↑0⍴⍵}¨ps.testCaseNos</code>
<code> [12]          :EndIf</code>
<code> [13]      :EndIf</code>
<code> [14]      :If 0≠≢ps.group</code>
<code> [15]          :If ','∊ps.group</code>
<code> [16]              ps.group←','(≠⊆⊢)ps.group</code>
<code> [17]          :Else</code>
<code> [18]              ps.group←,⊆ps.group</code>
<code> [19]          :EndIf</code>
<code> [20]          ref ProcessGroup ps</code>
<code> [21]      :EndIf</code>
<code> [22]  :EndIf</code>
<code> [23]  :If 0=≢ps.list</code>
<code> [24]      rc←0</code>
<code> [25]      :Return</code>
<code> [26]  :EndIf</code>
<code> [27]  :If (,0)≡,ps.testCaseNos</code>
<code> [28]      ps.testCaseNos←¯1</code>
<code> [29]  :Else</code>
<code> [30]      :If 0≠≢ps.testCaseNos</code>
<code> [31]          :If 0=≢ps.group</code>
<code> [32]              :If 0=≢ps.list←(1={'_'+.=⍵}¨ps.list)/ps.list</code>
<code class="emphasize">→[33]                  rc←0</code>
<code class="emphasize">→[34]                  :Return</code>
<code> [35]              :EndIf</code>
<code> [36]          :EndIf</code>
<code> [37]          ps.list←((⊃¨GetTestNo¨ps.list)∊|ps.testCaseNos)/ps.list   ⍝ Now select the numbers</code>
<code> [38]          :If 0=≢ps.list</code>
<code> [39]              rc←0</code>
<code> [40]              :Return</code>
<code> [41]          :EndIf</code>
<code> [42]      :EndIf</code>
<code> [43]  :EndIf</code>
<code> [44]  ps.groups←∪GetGroupName¨{⍵/⍨'_'∊¨⍵}ps.list</code>
<code> [45]       ⍝ Sorting?!  ⍝TODO⍝  ⍝TODO⍝  ⍝TODO⍝</code>
<code> [46]      ⍝Done</code>
</div>
<code class="header" id="listing_32">#.Tester2.Tester2.ShowLog &mdash; 93%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←{type}ShowLog msg</code>
<code> [1]      ⍝ `type` may be 1 or 2 or 3 or ¯1 or ¯2:</code>
<code> [2]      ⍝ * A 1 means an action message</code>
<code> [3]      ⍝ * A 2 means the result of the execution attempt of a test function.</code>
<code> [4]      ⍝ * A 3 means "to be appended the very last line in the log"</code>
<code> [5]      ⍝ * A negative type means message with more to come</code>
<code> [6]      ⍝ Requires semi-global `ps`: a parameter space with `ps.log` being, well, the log.</code>
<code> [7]   r←⍬</code>
<code> [8]   :If 0&lt;≢msg</code>
<code> [9]       type←{0&lt;⎕NC ⍵:⍎⍵ ⋄ 1}'type'</code>
<code> [10]      'Invalid type'Assert(⊂|type)∊1 2 3</code>
<code> [11]      :If ps.batchFlag∧0=ps.guiFlag</code>
<code> [12]          :If type=3</code>
<code> [13]              ps.log[≢ps.log]←⊂((≢ps.log)⊃ps.log),msg</code>
<code> [14]          :Else</code>
<code> [15]              :If 1&lt;≡msg</code>
<code> [16]                  ps.log,←msg</code>
<code> [17]              :Else</code>
<code> [18]                  ps.log,←⊂msg</code>
<code> [19]              :EndIf</code>
<code> [20]          :EndIf</code>
<code> [21]      :Else</code>
<code> [22]          buff←{1=≡⍵:⊂⍵ ⋄ (3≠≢⍵)∨'---'≡3↑⊃⍵:⍵ ⋄ ⊂(1⊃⍵),' ',(2⊃⍵),' ',(3⊃⍵)}msg</code>
<code> [23]          :If ps.guiFlag</code>
<code> [24]              :If ps.ref2Gui.∆n.∆Closed</code>
<code class="emphasize">→[25]                  ⎕SIGNAL QuitEvent</code>
<code> [26]              :EndIf</code>
<code> [27]              :If 3=type</code>
<code> [28]              :AndIf 1=≡msg</code>
<code> [29]                  ps.ref2Gui.∆n.Log.Text[≢ps.ref2Gui.∆n.Log.Text]←⊂(⊃⌽ps.ref2Gui.∆n.Log.Text),msg</code>
<code> [30]              :Else</code>
<code> [31]                  ps.ref2Gui.∆n.Log.Text,←⊆msg</code>
<code> [32]              :EndIf</code>
<code> [33]              ps.ref2Gui.∆n.Log.SelText←2⍴(≢ps.ref2Gui.∆n.Log.Text),¨1</code>
<code> [34]          :EndIf</code>
<code> [35]          :If type=3</code>
<code> [36]              ps.log[≢ps.log]←⊂((≢ps.log)⊃ps.log),⊃buff</code>
<code> [37]          :Else</code>
<code> [38]              ps.log,←buff</code>
<code> [39]          :EndIf</code>
<code> [40]          :If ~ps.guiFlag</code>
<code> [41]              :If type=3</code>
<code> [42]                  ⎕←⊃¯1↑ps.log</code>
<code> [43]              :ElseIf ¯1≠×type</code>
<code> [44]                  selog←{1=≡⍵:⍵ ⋄ (3≠≢⍵)∨'---'≡3↑⊃⍵:⍪⍵ ⋄ (1⊃⍵),' ',(2⊃⍵),' ',(3⊃⍵)}msg</code>
<code> [45]                  :If type&lt;0</code>
<code class="emphasize">→[46]                      ⍞←selog,(type=¯2)/CR</code>
<code> [47]                  :Else</code>
<code> [48]                      ⎕←selog</code>
<code> [49]                  :EndIf</code>
<code> [50]              :EndIf</code>
<code> [51]          :EndIf</code>
<code> [52]      :EndIf</code>
<code> [53]  :EndIf</code>
</div>
<code class="header" id="listing_33">#.Tester2.Tester2.EstablishHelpers &mdash; 94%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←{force}EstablishHelpers ref</code>
<code> [1]      ⍝ Establishes the three helpers `Prepare`, `RunTests` and `RunBatchTests` in `ref`.\\</code>
<code> [2]      ⍝ The user is asked for confirmation, but you can prevent that (and enforce the operation) by passing</code>
<code> [3]      ⍝ a 1 as the left argument `force`.\\</code>
<code> [4]      ⍝ Returns an empty vector if force is ` or the user has not confirmed the operation, otherwise a message.</code>
<code> [5]   :Access Public Shared</code>
<code> [6]   r←''</code>
<code> [7]   force←{0&lt;⎕NC ⍵:⍎⍵ ⋄ 0}'force'</code>
<code> [8]   :If (⊂ref)∊''⍬</code>
<code class="emphasize">→[9]       ref←⊃⎕RSI</code>
<code> [10]  :EndIf</code>
<code> [11]  'Cannot establish helpers in class instances/unnamed namespaces'Assert~'['∊⍕ref</code>
<code> [12]  :If force</code>
<code> [13]  :OrIf YesOrNo'Helpers@Sure you wanna establish three helpers "Prepare", "RunTests" &amp; "RunTestsInBatchMode" in ',(⍕ref),' ?'</code>
<code> [14]      res←ref.⎕FX ⎕CR'Prepare'</code>
<code> [15]      ('Fixing helper "Prepare" in ',(⍕ref),' failed on line(s) ',⍕res)Assert' '=1↑0⍴res</code>
<code> [16]      res←ref.⎕FX ⎕CR'RunTests'</code>
<code> [17]      ('Fixing helper "RunTests" in ',(⍕ref),' failed on line(s) ',⍕res)Assert' '=1↑0⍴res</code>
<code> [18]      res←ref.⎕FX ⎕CR'RunTestsInBatchMode'</code>
<code> [19]      ('Fixing helper "RunBatchTests" in ',(⍕ref),' failed on line(s) ',⍕res)Assert' '=1↑0⍴res</code>
<code> [20]      r←(~force)/'"Prepare", "RunTests" &amp; "RunTestsInBatchMode" successfully established in ',⍕ref</code>
<code> [21]      r,←CR,'⍝ You might want to inform Link:'</code>
<code> [22]      r,←CR,'⍝ ⎕SE.Link.Add ',⊃,/('''','.',⍨⍕ref)∘,¨'Prepare'' ' 'RunTests'' ' 'RunTestsInBatchMode'' '</code>
<code> [23]  :EndIf</code>
</div>
<code class="header" id="listing_34">#.Tester2.Tester2.set_custom_1 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_custom_1 arg</code>
<code> [1]  msg←arg.NewValue</code>
<code> [2]  ⎕SIGNAL/1 CheckCustomDef msg</code>
<code> [3]  _custom_1←msg</code>
</div>
<code class="header" id="listing_35">#.Tester2.Tester2.get_custom_1 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_custom_1</code>
<code> [1]  r←_custom_1</code>
</div>
<code class="header" id="listing_36">#.Tester2.Tester2.set_custom_2 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_custom_2 arg</code>
<code> [1]  msg←arg.NewValue</code>
<code> [2]  ⎕SIGNAL/2 CheckCustomDef msg</code>
<code> [3]  _custom_2←msg</code>
</div>
<code class="header" id="listing_37">#.Tester2.Tester2.get_custom_2 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_custom_2</code>
<code> [1]  r←_custom_2</code>
</div>
<code class="header" id="listing_38">#.Tester2.Tester2.set_custom_3 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_custom_3 arg</code>
<code> [1]  msg←arg.NewValue</code>
<code> [2]  ⎕SIGNAL/3 CheckCustomDef msg</code>
<code> [3]  _custom_3←msg</code>
</div>
<code class="header" id="listing_39">#.Tester2.Tester2.get_custom_3 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_custom_3</code>
<code> [1]  r←_custom_3</code>
</div>
<code class="header" id="listing_40">#.Tester2.Tester2.set_custom_4 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_custom_4 arg</code>
<code> [1]  msg←arg.NewValue</code>
<code> [2]  ⎕SIGNAL/4 CheckCustomDef msg</code>
<code> [3]  _custom_4←msg</code>
</div>
<code class="header" id="listing_41">#.Tester2.Tester2.get_custom_4 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_custom_4</code>
<code> [1]  r←_custom_4</code>
</div>
<code class="header" id="listing_42">#.Tester2.Tester2.set_custom_5 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_custom_5 arg</code>
<code> [1]  msg←arg.NewValue</code>
<code> [2]  ⎕SIGNAL/5 CheckCustomDef msg</code>
<code> [3]  _custom_5←msg</code>
</div>
<code class="header" id="listing_43">#.Tester2.Tester2.get_custom_5 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_custom_5</code>
<code> [1]  r←_custom_5</code>
</div>
<code class="header" id="listing_44">#.Tester2.Tester2.set_custom_6 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_custom_6 arg</code>
<code> [1]  msg←arg.NewValue</code>
<code> [2]  ⎕SIGNAL/6 CheckCustomDef msg</code>
<code> [3]  _custom_6←msg</code>
</div>
<code class="header" id="listing_45">#.Tester2.Tester2.get_custom_6 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_custom_6</code>
<code> [1]  r←_custom_6</code>
</div>
<code class="header" id="listing_46">#.Tester2.Tester2.set_custom_7 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_custom_7 arg</code>
<code> [1]  msg←arg.NewValue</code>
<code> [2]  ⎕SIGNAL/7 CheckCustomDef msg</code>
<code> [3]  _custom_7←msg</code>
</div>
<code class="header" id="listing_47">#.Tester2.Tester2.get_custom_7 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_custom_7</code>
<code> [1]  r←_custom_7</code>
</div>
<code class="header" id="listing_48">#.Tester2.Tester2.set_custom_8 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_custom_8 arg</code>
<code> [1]  msg←arg.NewValue</code>
<code> [2]  ⎕SIGNAL/8 CheckCustomDef msg</code>
<code> [3]  _custom_8←msg</code>
</div>
<code class="header" id="listing_49">#.Tester2.Tester2.get_custom_8 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_custom_8</code>
<code> [1]  r←_custom_8</code>
</div>
<code class="header" id="listing_50">#.Tester2.Tester2.set_custom_9 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_custom_9 arg</code>
<code> [1]  msg←arg.NewValue</code>
<code> [2]  ⎕SIGNAL/9 CheckCustomDef msg</code>
<code> [3]  _custom_9←msg</code>
</div>
<code class="header" id="listing_51">#.Tester2.Tester2.get_custom_9 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_custom_9</code>
<code> [1]  r←_custom_9</code>
</div>
<code class="header" id="listing_52">#.Tester2.Tester2.set_IniFolder &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_IniFolder arg</code>
<code> [1]  :If 0&lt;≢arg.NewValue</code>
<code> [2]      'Must be a simple character vector'Assert 1=≡arg.NewValue</code>
<code> [3]      'Must be a simple character vector'Assert 0≠1↑0⍴∊arg.NewValue</code>
<code> [4]      'Must be a simple character vector'Assert 1=⍴⍴arg.NewValue</code>
<code> [5]      'Does not exist'Assert 0≠⎕NEXISTS arg.NewValue</code>
<code> [6]      'Is not a folder'Assert 1=1 ⎕NINFO arg.NewValue</code>
<code> [7]  :EndIf</code>
<code> [8]  _IniFolder←arg.NewValue</code>
</div>
<code class="header" id="listing_53">#.Tester2.Tester2.set_exec_before_each_test &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_exec_before_each_test arg</code>
<code> [1]  'Must be fully qualified name of a function'Assert' '=1↑0⍴∊arg.NewValue</code>
<code> [2]  'Must be fully qualified name of a function'Assert 3=⎕NC arg.NewValue</code>
<code> [3]  _exec_before_each_test←arg.NewValue</code>
</div>
<code class="header" id="listing_54">#.Tester2.Tester2.set_exec_after_each_test &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> set_exec_after_each_test arg</code>
<code> [1]  'Must be fully qualified name of a function'Assert' '=1↑0⍴∊arg.NewValue</code>
<code> [2]  'Must be fully qualified name of a function'Assert 3=⎕NC arg.NewValue</code>
<code> [3]  _exec_after_each_test←arg.NewValue</code>
</div>
<code class="header" id="listing_55">#.Tester2.Tester2.set_INI &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<code class="header" id="listing_56">#.Tester2.Tester2.get_INI &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_INI</code>
<code> [1]  r←_INI</code>
</div>
<code class="header" id="listing_57">#.Tester2.Tester2.Version &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←Version</code>
<code> [1]  :Access Public shared</code>
<code> [2]  r←'Tester2' '3.7.0+5' '2024-03-02'</code>
</div>
<code class="header" id="listing_58">#.Tester2.Tester2.Cleanup &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> Cleanup</code>
<code> [1]     ⍝ Closes the GUI</code>
<code> [2]  :Implements Destructor</code>
<code> [3]  CloseGUI</code>
</div>
<code class="header" id="listing_59">#.Tester2.Tester2.Run &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {(rc log)}←{stopFlag}Run debugFlag</code>
<code> [1]      ⍝ Runs _all_ test cases, by default with error trapping.\\</code>
<code> [2]      ⍝ The Boolean right argument decides whether with (0) or without (1) error trapping.\\</code>
<code> [3]      ⍝ In addition you may specify an optional left argument which will make `Run` stop in certain circumstances:</code>
<code> [4]      ⍝ * 1=stop just before any test case is about to be executed</code>
<code> [5]      ⍝ * 2=stop in all `Initial*` functions</code>
<code> [6]      ⍝ * 4=stop in all `Cleanup*` functions\\</code>
<code> [7]      ⍝ You may also specify a sum of them, like 3, 5, 6 or 7</code>
<code> [8]      ⍝ DO NOT localyze `_parms` in this function!</code>
<code> [9]   :Access Public Instance</code>
<code> [10]  stopFlag←{0&lt;⎕NC ⍵:⍎⍵ ⋄ 0}'stopFlag'</code>
<code> [11]  'Invalid left argument 'Assert 1=≡,stopFlag</code>
<code> [12]  'Invalid left argument 'Assert 1=≢stopFlag</code>
<code> [13]  'Invalid left argument 'Assert 83=⎕DR stopFlag</code>
<code> [14]  'Invalid right argument 'Assert(⊂debugFlag)∊0 1</code>
<code> [15]  _parms←CreateParms ⍬</code>
<code> [16]  _parms.debugFlag←debugFlag</code>
<code> [17]  _parms.stopFlag←stopFlag</code>
<code> [18]  _parms.trapFlag←~debugFlag</code>
<code> [19]  (rc log)←Run__ _parms</code>
<code> [20]      ⍝Done</code>
</div>
<code class="header" id="listing_60">#.Tester2.Tester2.RunThese &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {(rc log)}←{stopFlag}RunThese these</code>
<code> [1]      ⍝ Run just the specified tests.</code>
<code> [2]      ⍝ `these` can be one of:</code>
<code> [3]      ⍝ * A scalar or vector of numbers identifying ungrouped test cases.</code>
<code> [4]      ⍝ * A text string that uniquily identifies a group.</code>
<code> [5]      ⍝ * A text string that ends with an asterisk (`*`) identifying one or more test groups.</code>
<code> [6]      ⍝ * A two-item vector with:</code>
<code> [7]      ⍝   * A text string identifying one or more groups (with the wildcard syntax, **not** by specifying more than one).</code>
<code> [8]      ⍝   * An integer vector identifying test cases within that group.\\</code>
<code> [9]      ⍝ In addition you may specify an optional left argument which will make `RunThese` stop in certain circumstances:</code>
<code> [10]     ⍝ * 1=stop just before any test case is about to be executed</code>
<code> [11]     ⍝ * 2=stop in all `Initial*` functions</code>
<code> [12]     ⍝ * 4=stop in all `Cleanup*` functions\\</code>
<code> [13]     ⍝ You may also specify a sum of them, like 3, 5, 6 or 7.\\</code>
<code> [14]     ⍝ The result:</code>
<code> [15]     ⍝ 1. A return code. 0 means all test cases passed successfully.</code>
<code> [16]     ⍝ 2. A vector of text vectors with the log. The log contains detailed information about what was carried out.</code>
<code> [17]     ⍝ DO NOT localyze `_parms` in this function!</code>
<code> [18]  :Access Public Instance</code>
<code> [19]  stopFlag←{0&lt;⎕NC ⍵:⍎⍵ ⋄ 0}'stopFlag'</code>
<code> [20]  'Invalid left argument 'Assert(⊂stopFlag)∊0 1 2 4 3 5 6 7</code>
<code> [21]  _parms←CreateParms ⍬</code>
<code> [22]  _parms.testCaseNos←these</code>
<code> [23]  _parms.debugFlag←1</code>
<code> [24]  _parms.trapFlag←0</code>
<code> [25]  _parms.stopFlag←stopFlag</code>
<code> [26]  (rc log)←Run__ _parms</code>
</div>
<code class="header" id="listing_61">#.Tester2.Tester2.RunBatchTests &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {(rc log)}←{stopFlag}RunBatchTests debugFlag</code>
<code> [1]      ⍝ Runs all test cases but tells the test functions that this is a batch run, meaning that test cases in need</code>
<code> [2]      ⍝ for any human being for interaction should abort themselves and return `_NoBatchTest` instead.\\</code>
<code> [3]      ⍝ By default any errors are trapped.</code>
<code> [4]      ⍝ In addition you can specify an optional left argument which will make `RunBatchTests` stop in certain circumstances:</code>
<code> [5]      ⍝ * 1=stop just before any test case is about to be executed</code>
<code> [6]      ⍝ * 2=stop in all `Initial*` functions</code>
<code> [7]      ⍝ * 4=stop in all `Cleanup*` functions\\</code>
<code> [8]      ⍝ You may also specify a sum of them, like 3, 5, 6 or 7.\\</code>
<code> [9]      ⍝ This function does not trap errors in case `debugFlag` is 1.\\</code>
<code> [10]     ⍝ Returns 0 for okay or a 1 as `rc` in case one or more test cases are broken or failed.\\</code>
<code> [11]     ⍝ DO NOT localyze `_parms` in this function!</code>
<code> [12]  :Access Public Instance</code>
<code> [13]  stopFlag←{0&lt;⎕NC ⍵:⍎⍵ ⋄ 0}'stopFlag'</code>
<code> [14]  'Invalid left argument 'Assert(⊂stopFlag)∊0 1 2 4 3 5 6 7</code>
<code> [15]  'Invalid right argument 'Assert(⊂debugFlag)∊0 1</code>
<code> [16]  _parms←CreateParms ⍬</code>
<code> [17]  _parms.debugFlag←debugFlag</code>
<code> [18]  _parms.stopFlag←stopFlag</code>
<code> [19]  _parms.batchFlag←1</code>
<code> [20]  _parms.trapFlag←0=debugFlag</code>
<code> [21]  _parms.testCaseNos←⍬</code>
<code> [22]  (rc log)←Run__ _parms</code>
</div>
<code class="header" id="listing_62">#.Tester2.Tester2.Help &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←Help</code>
<code> [1]  :Access Public Shared</code>
<code> [2]  r←']open ',##.TatinVars.GetFullPath2AssetsFolder,'Tester2-Reference.html'</code>
</div>
<code class="header" id="listing_63">#.Tester2.Tester2.CreateParms &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←CreateParms dummy</code>
<code> [1]     ⍝ Creates a parameter space to be consumed by `Run__` and therefore by any of the `Run*` functions</code>
<code> [2]     ⍝ that do call `Run__`. The namespace is populated with defaults.\\</code>
<code> [3]     ⍝ 1. `trapFlag`: controls error trapping:</code>
<code> [4]     ⍝    * 1 = failing test cases are reported, then the next one is executed.</code>
<code> [5]     ⍝    * 0 = program halts in case of an error - use this for investigation.</code>
<code> [6]     ⍝ 2. `debugFlag`: if it is 1 failing tests stop for investigation (stop on error).</code>
<code> [7]     ⍝ 3. `batchFlag`: a 1 would mean that the test should quit itself if for example it</code>
<code> [8]     ⍝     needs a human being in front of the monitor. Such test cases are supposed to</code>
<code> [9]     ⍝     do nothing but return `_NoBatchTest` when this flag is on.</code>
<code> [10]    ⍝ 4. `stopFlag`: is treated as "stop just before the next test case is going to be executed" when 1.\\</code>
<code> [11]    ⍝     Since version 2.4 this accepts also an integer that can be the sum of:</code>
<code> [12]    ⍝     * 1=stop just before any test case is executed</code>
<code> [13]    ⍝     * 2=stop in all `Initial*` functions</code>
<code> [14]    ⍝     * 4=stop in all `Cleanup*` functions</code>
<code> [15]    ⍝ 5. `testCaseNos`: the test cases to be executed (IDs or group or a mixture of both)</code>
<code> [16]    ⍝ 6. `guiFlag`: is 0 when no GUI is required an 1 otherwise.</code>
<code> [17]  :Access Public Instance</code>
<code> [18]  r←⎕NS''</code>
<code> [19]  r.trapFlag←1</code>
<code> [20]  r.debugFlag←0</code>
<code> [21]  r.batchFlag←0</code>
<code> [22]  r.stopFlag←0</code>
<code> [23]  r.guiFlag←0</code>
<code> [24]  r.testCaseNos←⍬</code>
<code> [25]  r.⎕FX'r←List' 'r←↑{⍵(⍎⍵)}¨'' ''~¨⍨↓⎕NL 2'</code>
</div>
<code class="header" id="listing_64">#.Tester2.Tester2.CloseGUI &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←CloseGUI</code>
<code> [1]      ⍝ In case the global parameters carry a valid ref pointing to the GUI that GUI is closed.</code>
<code> [2]      ⍝ Errors are trapped.\\</code>
<code> [3]      ⍝ Always returns ⍬.</code>
<code> [4]   :Access Public Instance</code>
<code> [5]   r←⍬</code>
<code> [6]   :If 0&lt;⎕NC'_ref2GUI'</code>
<code> [7]   :AndIf ⍬≢_ref2GUI</code>
<code> [8]       :Trap 6 11</code>
<code> [9]           2 ⎕NQ _parms.ref2Gui'Close'</code>
<code> [10]          _ref2GUI←⍬</code>
<code> [11]      :EndTrap</code>
<code> [12]  :EndIf</code>
</div>
<code class="header" id="listing_65">#.Tester2.Tester2.Getref2Gui &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> ref2Gui←Getref2Gui</code>
<code> [1]     ⍝ Returns either a ref to `Tester2`'s GUI (if there is any) or ⍬.</code>
<code> [2]  :Access Public Instance</code>
<code> [3]  ref2Gui←⍬</code>
<code> [4]  :If 0&lt;_parms.⎕NC'ref2Gui'</code>
<code> [5]  :AndIf ~(⊂_parms.ref2Gui)∊''⍬</code>
<code> [6]      ref2Gui←_parms.ref2Gui</code>
<code> [7]  :EndIf</code>
</div>
<code class="header" id="listing_66">#.Tester2.Tester2.ProcessGroup &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←ref ProcessGroup ps</code>
<code> [1]      ⍝ `def` is a group definition or a specific test case.</code>
<code> [2]      ⍝ This function</code>
<code> [3]   r←⍬</code>
<code> [4]   ps.group←ps.group[⍋'~'=⊃¨ps.group]    ⍝ Make sure "without" is handled at the very end</code>
<code> [5]   list←Remove∆Test_¨ps.list             ⍝ All</code>
<code> [6]   groups←Remove∆Test_¨ps.group</code>
<code> [7]   collect←''</code>
<code> [8]   :If 1=≢groups</code>
<code> [9]   :AndIf '~'=⊃⊃groups</code>
<code> [10]      collect←(≢'Test_')↓¨' '~⍨¨↓'Test_'{⍵⌿⍨((≢⍺)↑[2]⍵)∧.=⍺}'T'ref.⎕NL 3  ⍝ All</code>
<code> [11]  :Else</code>
<code> [12]      :For grp :In groups                   ⍝ Loops over group definitions and collect hits</code>
<code> [13]          :If '~'=1⍴grp</code>
<code> [14]              :Leave</code>
<code> [15]          :EndIf</code>
<code> [16]          :If '*'∊grp</code>
<code> [17]              collect,←(list{(↑⍺)[;⍳≢⍵]∧.=⍵}grp~'*')/list</code>
<code> [18]          :ElseIf ∧/grp∊⎕D                  ⍝ Specific test case rather than group?</code>
<code> [19]              collect,←((↑list)[;⍳≢grp]∧.=grp)/list</code>
<code> [20]          :ElseIf '_'∊grp</code>
<code> [21]          :AndIf ∧/({⍵↓⍨⍵⍳'_'}grp)∊⎕D</code>
<code> [22]              collect,←(list≡¨⊂grp)/list</code>
<code> [23]          :Else</code>
<code> [24]              collect,←(({~'_'∊⍵:'' ⋄ ⍵↑⍨¯1+⍵⍳'_'}¨list)≡¨⊂grp)/list</code>
<code> [25]          :EndIf</code>
<code> [26]      :EndFor</code>
<code> [27]  :EndIf</code>
<code> [28]  without←{⍵/⍨'~'=⊃¨⍵}groups</code>
<code> [29]  :If 0&lt;≢collect</code>
<code> [30]      :For grp :In without                  ⍝ Loops over "without" definitions and removes stuff</code>
<code> [31]          :If '*'∊grp</code>
<code> [32]              collect←(~collect{(↑⍺)[;⍳≢⍵]∧.=⍵}grp~'~*')/collect</code>
<code> [33]          :EndIf</code>
<code> [34]          collect←((~collect{((≢⍵)↑[2](↑⍺))∧.=⍵}1↓grp))/collect</code>
<code> [35]      :EndFor</code>
<code> [36]  :EndIf</code>
<code> [37]  ps.list←'Test_'∘,¨∪collect</code>
</div>
<code class="header" id="listing_67">#.Tester2.Tester2.HandleStops &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> HandleStops(fns ps StopHere testNo fnsName)</code>
<code> [1]  :If 0&lt;ps.stopFlag</code>
<code> [2]  :AndIf 1⊃⌽(8⍴2)⊤⊃ps.stopFlag</code>
<code> [3]      (∪(⎕STOP fns),StopHere)⎕STOP fns</code>
<code> [4]      ⎕←'About to execute &lt;',(⍕_ref),'.',fnsName,'&gt; ...'</code>
<code> [5]  :Else</code>
<code> [6]      ((⎕STOP fns)~StopHere)⎕STOP fns</code>
<code> [7]  :EndIf</code>
</div>
<code class="header" id="listing_68">#.Tester2.Tester2.ReportTestResults &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  (rc log)←ReportTestResults ps</code>
<code> [1]   log←''</code>
<code> [2]   log,←⊂'-----'</code>
<code> [3]   log,←⊂'  ',(⍕ps.totalCounter),' test case',((1≠ps.totalCounter)/'s'),' of ',(⍕≢ps.list),' called'</code>
<code> [4]   log,←⊂'  ',(⍕ps.failedCounter),' test case',((1≠+/ps.failedCounter)/'s'),' failed',(0&lt;ps.failedCounter)/' (flagged with "*")'</code>
<code> [5]   log,←⊂'  ',(⍕ps.errCounter),' test case',((1≠+/ps.errCounter)/'s'),' broken',(0&lt;ps.errCounter)/' (flagged with "#")'</code>
<code> [6]   :If 0≠ps.totalCounter</code>
<code> [7]       constants←ListSymbolicNames</code>
<code> [8]       constants←(~constants[;1]∊'_OK' '_Failed')⌿constants</code>
<code> [9]       :For constant comment :In ↓constants</code>
<code> [10]          :If '_custom'{⍺≡(≢⍺)↑⍵}constant</code>
<code> [11]          :AndIf 0&lt;≢comment</code>
<code> [12]          :AndIf 0&lt;noOf←ps.returnCodes+.=-⊃(//)⎕VFI(≢'_custom_')↓constant</code>
<code> [13]              log,←⊂'  ',(⍕noOf),' test cases not executed because of "',comment,'" (flagged with "⍝")'</code>
<code> [14]          :ElseIf 0&lt;noOf←ps.returnCodes+.=⍎constant</code>
<code> [15]              log,←⊂'  ',(⍕noOf),' test cases not executed because of "',(1↓constant),'" (flagged with "⍝")'</code>
<code> [16]          :EndIf</code>
<code> [17]      :EndFor</code>
<code> [18]  :Else</code>
<code> [19]      log,←⊂'0 test cases executed'</code>
<code> [20]  :EndIf</code>
<code> [21]  ShowLog log</code>
<code> [22]  rc←0&lt;ps.failedCounter+ps.errCounter</code>
</div>
<code class="header" id="listing_69">#.Tester2.Tester2.ExecuteCleanup &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←ExecuteCleanup(ref ps)</code>
<code> [1]   r←⍬</code>
<code> [2]   report←'Looking for a function "Cleanup": '</code>
<code> [3]   :If 3=ref.⎕NC'Cleanup'</code>
<code> [4]       :If 3⊃⌽(8⍴2)⊤ps.stopFlag</code>
<code> [5]           (∆stop1 ∆stop2)⎕STOP 1⊃⎕SI</code>
<code> [6]       :Else</code>
<code> [7]           ((⎕STOP 1⊃⎕SI)~∆stop1 ∆stop2)⎕STOP 1⊃⎕SI</code>
<code> [8]       :EndIf</code>
<code> [9]       :If 0=1 2⊃ref.⎕AT'Cleanup'</code>
<code> [10] ∆stop1:  ref.Cleanup</code>
<code> [11]          report,←'found and executed'</code>
<code> [12]      :Else</code>
<code> [13] ∆stop2:  ref.Cleanup ps</code>
<code> [14]      :EndIf</code>
<code> [15]  :Else</code>
<code> [16]      report,←'not found'</code>
<code> [17]  :EndIf</code>
<code> [18]  ShowLog report</code>
</div>
<code class="header" id="listing_70">#.Tester2.Tester2.QuitTests &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> QuitTests</code>
<code> [1]     ⍝ Use this method to quit a test run prematurely and make sure that everything is tidied up,</code>
<code> [2]     ⍝ meaning that a `Cleanup` function (if any) is executed.\\</code>
<code> [3]  :Access Public Instance</code>
<code> [4]  ∆TRAPS_IN_SESSION←600⌶0  ⍝ Enable traps in the session and save original setting</code>
<code> [5]  ⎕SIGNAL QuitEvent</code>
</div>
<code class="header" id="listing_71">#.Tester2.Tester2.CreateGui &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>   {r}←ps CreateGui dummy</code>
<code> [1]    n←⎕NS''</code>
<code> [2]    ∆←''</code>
<code> [3]    ∆,←⊂'Caption'('Test cases in ',⍕{⊃⍵~1⍴⍵}⎕NSI)</code>
<code> [4]    ∆,←⊂'Coord' 'Pixel'</code>
<code> [5]    ∆,←⊂'Posn'(40 20)</code>
<code> [6]    ∆,←⊂'Size'(600 1100)</code>
<code> [7]    n.Form←⎕NEW'Form'∆</code>
<code> [8]    n.Form.∆n←n  ⍝ Prevents the Form from disappearing</code>
<code> [9]    n.∆Closed←0</code>
<code> [10]   n.Form.onClose←'OnClose'</code>
<code> [11]   n.Form.on9999←1       ⍝ Used to end a ⎕DQ on the Form for processing events, in particular "Close"</code>
<code> [12]   n.Form.on9998←1       ⍝ Used to end a ⎕DQ at an early stage, before the tests are run. Deactivated then.</code>
<code> [13]   n.Form.onKeyPress←'OnKeyPress'</code>
<code> [14]  </code>
<code> [15]   n.Font←⎕NEW'Font'(('PName' 'APL385 Unicode')('Size' 18))</code>
<code> [16]   n.Form.FontObj←n.Font</code>
<code> [17]  </code>
<code> [18]   n.MyTipObj←⎕NEW⊂'TipField'</code>
<code> [19]  </code>
<code> [20]   n.SB←n.Form.⎕NEW'Statusbar'(,⊂'Attach'('Bottom' 'Left' 'Bottom' 'Right'))</code>
<code> [21]   n.Info←n.SB.⎕NEW'StatusField'(('Coord' 'Prop')('Size'(⍬ 99))('Attach'('Bottom' 'Left' 'Bottom' 'Right')))</code>
<code> [22]  </code>
<code> [23]   ∆←''</code>
<code> [24]   ∆,←⊂'Caption' '&amp;Start'</code>
<code> [25]   ∆,←⊂'Size'(⍬ 110)</code>
<code> [26]   ∆,←⊂'Attach'(4⍴'Bottom' 'Left')</code>
<code> [27]   n.StartBtn←n.Form.⎕NEW'Button'∆</code>
<code> [28]   n.StartBtn.onSelect←1</code>
<code> [29]   n.StartBtn.Posn←(n.Form.Size[1]-n.StartBtn.Size[1]+5+n.SB.Size[1]),10</code>
<code> [30]  </code>
<code> [31]   ∆←''</code>
<code> [32]   ∆,←⊂'Caption' '&amp;Pause'</code>
<code> [33]   ∆,←⊂'Size'(⍬ 110)</code>
<code> [34]   ∆,←⊂'Style' 'Check'</code>
<code> [35]   ∆,←⊂'Attach'(4⍴'Bottom' 'Left')</code>
<code> [36]   n.PauseBtn←n.Form.⎕NEW'Button'∆</code>
<code> [37]   n.PauseBtn.Posn←(n.StartBtn.Posn[1]),20++/2⊃+⌿↑n.StartBtn.(Posn Size)</code>
<code> [38]  </code>
<code> [39]   ∆←''</code>
<code> [40]   ∆,←⊂'Style' 'Check'</code>
<code> [41]   ∆,←⊂'Posn'(5 5)</code>
<code> [42]   ∆,←⊂'Caption' '&amp;Trap errors'</code>
<code> [43]   ∆,←⊂'State'ps.trapFlag</code>
<code> [44]   ∆,←⊂'Attach'(4⍴'Top' 'Left')</code>
<code> [45]   ∆,←⊂'TipObj'n.MyTipObj</code>
<code> [46]   ∆,←⊂'Tip'('Trap all errors in tests and report them as crashing.' 'The setting does NOT influcence the effect of the "debug" flag')</code>
<code> [47]   n.TrapErrors←n.Form.⎕NEW'Button'∆</code>
<code> [48]  </code>
<code> [49]   ∆←''</code>
<code> [50]   ∆,←⊂'Style' 'Check'</code>
<code> [51]   ∆,←⊂'Posn'(5,20+2⊃+⌿↑n.TrapErrors.(Posn Size))</code>
<code> [52]   ∆,←⊂'Caption' '&amp;Debug'</code>
<code> [53]   ∆,←⊂'Attach'(4⍴'Top' 'Left')</code>
<code> [54]   ∆,←⊂'State'ps.debugFlag</code>
<code> [55]   ∆,←⊂'TipObj'n.MyTipObj</code>
<code> [56]   ∆,←⊂'Tip'('Crash at failing tests for investigation rather than just reporting them.' 'The setting does NOT influcence "Trap Errors"')</code>
<code> [57]   n.Debug←n.Form.⎕NEW'Button'∆</code>
<code> [58]  </code>
<code> [59]   ∆←''</code>
<code> [60]   ∆,←⊂'Posn'(5,20+2⊃+⌿↑n.Debug.(Posn Size))</code>
<code> [61]   items←(⊂'No stop'),'Stop on '∘,¨'tests' '"Initial"' '"Cleanup"' 'tests+"Initial"' 'tests+"Cleanup"' 'test+"Initial"+"Cleanup"' '"Initial"+"Cleanup"'</code>
<code> [62]   items,¨←'' ' (1)' ' (2)' ' (4)' ' (3)' ' (5)' ' (7)' ' (6)'</code>
<code> [63]   ∆,←⊂'Items'items</code>
<code> [64]   bool←(≢items)⍴0</code>
<code> [65]   :If 0=+/(8⍴2)⊤ps.stopFlag</code>
<code> [66]       bool[1]←1</code>
<code> [67]   :Else</code>
<code> [68]       bool[1+1 2 4 3 5 7 6⍳ps.stopFlag]←1</code>
<code> [69]   :EndIf</code>
<code> [70]   ∆,←⊂'SelItems'bool</code>
<code> [71]   ∆,←⊂'Attach'(4⍴'Top' 'Left')</code>
<code> [72]   ∆,←⊂'TipObj'n.MyTipObj</code>
<code> [73]   ∆,←⊂'Tip'('Stop just before any test or any "Initial" or' 'any "Cleanup" functions gets executed.' 'Allows tracing those functions.')</code>
<code> [74]   n.StopFlag←n.Form.⎕NEW'Combo'∆</code>
<code> [75]  </code>
<code> [76]   ∆←''</code>
<code> [77]   ∆,←⊂'Posn'((8+1⊃+⌿↑n.StopFlag.(Posn Size))0)</code>
<code> [78]   ∆,←⊂'Attach'('Top' 'Left' 'Bottom' 'Right')</code>
<code> [79]   ∆,←⊂'Size'((n.Form.Size[1]-20+(1⊃n.StartBtn.Size)+(1⊃n.SB.Size)+1⊃+⌿↑n.StopFlag.(Posn Size))⍬)</code>
<code> [80]   ∆,←⊂'Event'('KeyPress' '##.OnKeyPress')</code>
<code> [81]   n.TB←n.Form.⎕NEW'TabControl'∆</code>
<code> [82]  </code>
<code> [83]   n.TabBtn1←n.TB.⎕NEW'TabButton'(,⊂'Caption' 'Log')</code>
<code> [84]   n.TabBtn2←n.TB.⎕NEW'TabButton'(,⊂'Caption' 'Details')</code>
<code> [85]   n.SF1←n.TB.⎕NEW'SubForm'((,⊂'TabObj'n.TabBtn1))</code>
<code> [86]   n.SF2←n.TB.⎕NEW'SubForm'((,⊂'TabObj'n.TabBtn2))</code>
<code> [87]   2 ⎕NQ n.TabBtn1'Select'</code>
<code> [88]  </code>
<code> [89]   ∆←''</code>
<code> [90]   ∆,←⊂'Coord' 'Prop'</code>
<code> [91]   ∆,←⊂'Posn'(0 0)</code>
<code> [92]   ∆,←⊂'Size'(100 100)</code>
<code> [93]   ∆,←⊂'ReadOnly' 1</code>
<code> [94]   ∆,←⊂'Style' 'Multi'</code>
<code> [95]   ∆,←⊂'HScroll' ¯1</code>
<code> [96]   ∆,←⊂'VScroll' ¯1</code>
<code> [97]   n.Log←n.SF1.⎕NEW'Edit'∆</code>
<code> [98]   n.Log.Text←''</code>
<code> [99]   n.Log.onKeyPress←'OnKeyPress'</code>
<code> [100] </code>
<code> [101]  ∆←''</code>
<code> [102]  ∆,←⊂'Coord' 'Prop'</code>
<code> [103]  ∆,←⊂'Posn'(0 0)</code>
<code> [104]  ∆,←⊂'Size'(100 100)</code>
<code> [105]  ∆,←⊂'ColTitles'('' 'Name' 'Comments' 'Result' '')</code>
<code> [106]  ∆,←⊂'ResizeCols' 1</code>
<code> [107]  n.Grid←n.SF2.⎕NEW'Grid'∆</code>
<code> [108] </code>
<code> [109]  n.Grid.Coord←'Pixel'</code>
<code> [110]  n.Grid.BCol←(255 255 255)(122 255 189)(10 10 10)(3↑255)(3⍴128) ⍝ Default, okay, broken, failed, inactive, not run yet</code>
<code> [111]  n.Grid.FCol←(0 0 0)(0 0 0)(255 255 0)(255 255 0)(3⍴255) ⍝ Default, okay, broken, failed, inactive</code>
<code> [112]  n.Grid.Values←2000 5⍴⊂''</code>
<code> [113]  n.Grid.CellTypes←2000 5⍴6</code>
<code> [114]  n.Grid.TitleWidth←70</code>
<code> [115]  width←20 200 0,(2+⌈/2⊃¨n.Grid.GetTextSize¨,ListSymbolicNames)   ⍝ Size of the "RC" column is calculated dynamically</code>
<code> [116]  n.Grid.CellWidths←width</code>
<code> [117]  scrollbarSize←35</code>
<code> [118]  n.Grid.CellWidths[3]←n.Form.Size[2]-scrollbarSize+n.Grid.TitleWidth++/width</code>
<code> [119]  n.Grid.CurCell←1 4</code>
<code> [120]  n.Grid.onContextMenu←'OnContextMenuInGrid'</code>
<code> [121]  n.Grid.onKeyPress←'OnKeyPress'</code>
<code> [122]  r←n.Form</code>
<code> [123]       ⍝Done</code>
</div>
<code class="header" id="listing_72">#.Tester2.Tester2.ProcessGuiEvents &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> {r}←ProcessGuiEvents n</code>
<code> [1]  :Trap 6</code>
<code> [2]      {6::shy←⍬ ⋄ _←⎕DL 0.3 ⋄ 1:shy←⎕NQ ⍵.Form 9999}&amp;n</code>
<code> [3]      r←⎕DQ n.Form</code>
<code> [4]  :EndTrap</code>
</div>
<code class="header" id="listing_73">#.Tester2.Tester2.FailsIf &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←FailsIf y</code>
<code> [1]     ⍝ Usage : `→FailsIf x`, whith `x` being a boolean scalar.</code>
<code> [2]  :Access Public Instance</code>
<code> [3]  r←PassesIf~y                  ⍝ Just PassesIf on negation</code>
</div>
<code class="header" id="listing_74">#.Tester2.Tester2.PassesIf &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←PassesIf y</code>
<code> [1]      ⍝ Usage : `→PassesIf x`, whith `x` being a boolean scalar</code>
<code> [2]   :Access Public Instance</code>
<code> [3]   r←⍬</code>
<code> [4]   ⎕EX'∆FAILING_LINE'</code>
<code> [5]   :If ~y                        ⍝ Passes test, so →PassesIf x just continues</code>
<code> [6]       :If 2=_ref.⎕NC'stopFlag'  ⍝ Stop not defined, continue with test suite</code>
<code> [7]       :AndIf ~_ref.stopFlag     ⍝ Do not stop, continue with test suite</code>
<code> [8]           r←0</code>
<code> [9]           :If _ref.batchFlag</code>
<code> [10]              ∆FAILING_LINE←2⊃⎕LC</code>
<code> [11]          :EndIf</code>
<code> [12]      :Else</code>
<code> [13]          ⎕SIGNAL 999           ⍝ Otherwise stop for investigation</code>
<code> [14]      :EndIf</code>
<code> [15]  :EndIf</code>
</div>
<code class="header" id="listing_75">#.Tester2.Tester2.ListGroups &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←ListGroups</code>
<code> [1]    ⍝ Returns all groups as a two-column matrix.</code>
<code> [2]    ⍝ The first column carries the group name.</code>
<code> [3]    ⍝ The second column carries the number of test cases within that group.</code>
<code> [4]   :Access Public Instance</code>
<code> [5]   r←' '~¨⍨↓'Test_'{⍵⌿⍨((≢⍺)↑[2]⍵)∧.=⍺}'T'_ref.⎕NL 3</code>
<code> [6]   :If 0≠≢r←(2≤'_'+.=⍉↑r)⌿r</code>
<code> [7]   :AndIf 0≠≢r←{⍺,≢⍵}⌸{⊃{⍺,'_',⍵}/¯1↓'_'A.Split ⍵}¨r</code>
<code> [8]       r←r[⍋⎕C↑r[;1];]</code>
<code> [9]   :EndIf</code>
</div>
<code class="header" id="listing_76">#.Tester2.Tester2.ListSymbolicNames &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←ListSymbolicNames</code>
<code> [1]    ⍝ Returns a two-column matrix with all symbolic names.</code>
<code> [2]    ⍝ The second column is empty for built-in constants but carries a description for custom ones.</code>
<code> [3]   :Access Public Instance</code>
<code> [4]   buff1←⍪' '~¨⍨↓'_'⎕NL 2.2</code>
<code> [5]   buff1←buff1,⊂''</code>
<code> [6]   buff2←' '~¨⍨↓'_'⎕NL 2.1</code>
<code> [7]   buff2←'_custom'{⍵/⍨⍺∘≡¨(≢⍺)↑¨⍵}buff2</code>
<code> [8]   buff3←⍎¨buff2</code>
<code> [9]   bool←0&lt;+/¨≢¨¨buff3</code>
<code> [10]  :If 0=≢buff3←bool/buff3</code>
<code> [11]      r←buff1</code>
<code> [12]  :Else</code>
<code> [13]      r←buff1⍪(bool/buff2),[1.5]buff3</code>
<code> [14]  :EndIf</code>
</div>
<code class="header" id="listing_77">#.Tester2.Tester2.GetSymbolicName &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←GetSymbolicName constant</code>
<code> [1]     ⍝ Takes a constant and returns it symbolic name.\\</code>
<code> [2]     ⍝ * If the constant is unknown `''` is returned</code>
<code> [3]     ⍝ * If it is a single integer a string is returned</code>
<code> [4]     ⍝ * If `constant` is more than one integer a vector of strings is returned</code>
<code> [5]   :Access Public Instance</code>
<code> [6]   'Invalid right argument: must be one or more integers'Assert∧/{(0 1 2∊⍨≡⍵)∧83∧.=⎕DR ⍵}¨1(2 3)</code>
<code> [7]   names←,ListSymbolicNames[;1]</code>
<code> [8]   values←⍎¨names</code>
<code> [9]   :If 1&lt;≢constant</code>
<code> [10]      r←(names,⊂'')[values⍳constant]</code>
<code> [11]  :Else</code>
<code> [12]      r←(values⍳constant)⊃names,⊂''</code>
<code> [13]  :EndIf</code>
</div>
<code class="header" id="listing_78">#.Tester2.Tester2.AtLeastVersion &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←{currentVersion}AtLeastVersion min</code>
<code> [1]       ⍝ Returns 1 if the currently running version is at least `min`.</code>
<code> [2]       ⍝ If the current version is 17.1 then:</code>
<code> [3]       ⍝ 0 0 1 1 ←→ AtLeastVersion¨16 17 17.1 18</code>
<code> [4]  :Access Public Instance</code>
<code> [5]  currentVersion←{0&lt;⎕NC ⍵:⍎⍵ ⋄ {⊃⊃(//)⎕VFI ⍵/⍨2&gt;+\⍵='.'}2⊃'#'⎕WG'APLVersion'}'currentVersion'</code>
<code> [6]  'Right argument must be length 1'Assert 1=≢min</code>
<code> [7] </code>
<code> [8]  r←min≤currentVersion</code>
</div>
<code class="header" id="listing_79">#.Tester2.Tester2.FindSpecialString &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←{target}FindSpecialString what</code>
<code> [1]     ⍝ Use this to search for stuff like "CHECK" or "TODO" enclosed between lamps `⍝`.</code>
<code> [2]     ⍝ Without left argument the search starts in `_ref`.</code>
<code> [3]  :Access Public Instance</code>
<code> [4]  target←{0&lt;⎕NC ⍵:⍎⍵ ⋄ ⍕_ref}'target'</code>
<code> [5]  r←⍉1↓[1+⎕IO]⎕SE.UCMD'locate "',what,'" -return=count -objects=',⍕target  ⍝ The quotes are essential because of the ⍝ symbol!</code>
<code> [6]  :If 0&lt;≢r←(0&lt;r[;⎕IO+1])⌿r                                    ⍝ Drop those with no hits</code>
<code> [7]      r[;⎕IO]←{2&gt;'#'+.=⍵:⍵ ⋄ {⎕IO←0 ⋄ ⌽⍵↑⍨1+⍵⍳'#'}⌽⍵}¨r[;⎕IO]</code>
<code> [8]  :EndIf</code>
</div>
<code class="header" id="listing_80">#.Tester2.Tester2.CheckCustomDef &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←i CheckCustomDef msg</code>
<code> [1]   r←''⍬</code>
<code> [2]   :If ~(1=≡msg)∧(1=⍴⍴msg)∧' '=1↑0⍴∊msg</code>
<code> [3]       r←'Must be a simple text vector' 11</code>
<code> [4]   :Else</code>
<code> [5]       list←' '~¨⍨↓'_custom_'{⍵⌿⍨((≢⍺)↑[2]⍵)∧.=⍺}'_'⎕NL 2</code>
<code> [6]       list←↓'_custom_'{⍵⌿⍨((≢⍺)↑[2]⍵)∧.=⍺}↑list</code>
<code> [7]       list←(i≠∊(//)∘⎕VFI¨¯1↑¨list)/list     ⍝ Exclude itself</code>
<code> [8]       :If (⊂msg)∊⍎¨list</code>
<code> [9]           r←'Message is already defined' 11</code>
<code> [10]      :EndIf</code>
<code> [11]  :EndIf</code>
</div>
<code class="header" id="listing_81">#.Tester2.Tester2.ListCustomMessages &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←ListCustomMessages</code>
<code> [1]  r←{⍵⌿⍨0&lt;≢¨⍵[;2]}ListSymbolicNames</code>
</div>
<code class="header" id="listing_82">#.Tester2.Tester2.ListCustomNumbers &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←ListCustomNumbers</code>
<code> [1]  r←({⍵⌿⍨0&lt;≢¨⍵[;2]}ListSymbolicNames)[;1]</code>
<code> [2]  r←-{⊃⊃(//)⎕VFI ¯1↑⍵}¨r</code>
</div>
<code class="header" id="listing_83">#.Tester2.Tester2.HandleInitialize &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {(continueFlag i noOf)}←{force}HandleInitialize(ref ps currentGroup i noOf)</code>
<code> [1]   force←{0&lt;⎕NC ⍵:⍎⍵ ⋄ 0}'force'</code>
<code> [2]   continueFlag←0</code>
<code> [3]   currentGroup←Remove∆Test_ currentGroup</code>
<code> [4]   :If 0&lt;≢currentGroup</code>
<code> [5]   :AndIf force∨currentGroup≢⊃⌽ps.processedGroups</code>
<code> [6]       ps.processedGroups,←⊂currentGroup</code>
<code> [7]       :If 3=ref.⎕NC'Initial_',currentGroup</code>
<code> [8]           at←1⊃ref.⎕AT'Initial_',currentGroup</code>
<code> [9]           :If 2⊃⌽(8⍴2)⊤ps.stopFlag</code>
<code> [10]              (∪(⎕STOP 1⊃⎕SI),∆stop1,∆stop2,∆stop3)⎕STOP 1⊃⎕SI</code>
<code> [11]          :Else</code>
<code> [12]              ((⎕STOP 1⊃⎕SI)~,∆stop1,∆stop2,∆stop3)⎕STOP 1⊃⎕SI</code>
<code> [13]          :EndIf</code>
<code> [14]          :If (2⊃at)∊1 ¯2           ⍝ Accepts a right argument (monadic=1, ambivalent=¯2)?</code>
<code> [15] ∆stop1:      result←ps ref.{⍎⍵,' ⍺'}'Initial_',currentGroup</code>
<code> [16]          :ElseIf |1⊃at</code>
<code> [17] ∆stop2:      result←ps ref.{⍎⍵}'Initial_',currentGroup</code>
<code> [18]          :Else</code>
<code> [19] ∆stop3:      ref⍎'Initial_',currentGroup</code>
<code> [20]              result←1</code>
<code> [21]          :EndIf</code>
<code> [22]          :If ~(⊂result)∊⍬ 1</code>
<code> [23]          :AndIf ''≢result</code>
<code> [24]              buff←¯1↑ps.log</code>
<code> [25]              ps.log←¯1↓ps.log</code>
<code> [26]              :If ' '=1↑0⍴∊result</code>
<code> [27]                  ShowLog'Function "Initial_',currentGroup,'" found and executed, but it returned an error message:',CR,result</code>
<code> [28]              :Else</code>
<code> [29]                  ShowLog'Function "Initial_',currentGroup,'" found and executed but did not return a 1'</code>
<code> [30]              :EndIf</code>
<code> [31]              noOf←+/∨/('_',currentGroup,'_')⍷↑(i-1)↓ps.list</code>
<code> [32]              ShowLog'Therefore ',(⍕noOf),' member',((1&lt;noOf)/'s'),' of the group "',currentGroup,'" will not be executed'</code>
<code> [33]              :If ps.guiFlag</code>
<code> [34]                  ps.ref2Gui.∆n.Grid.Values[(i-1)+⍳noOf;4]←⊂'Prevented by Initial_',currentGroup</code>
<code> [35]              :EndIf</code>
<code> [36]              ps.log,←buff</code>
<code> [37]              i+←noOf-1</code>
<code> [38]              continueFlag←1</code>
<code> [39]          :Else</code>
<code> [40]              buff←¯1↑ps.log</code>
<code> [41]              ps.log←¯1↓ps.log</code>
<code> [42]              ShowLog'Function "Initial_',currentGroup,'" found and successfully executed'</code>
<code> [43]              ps.log,←buff</code>
<code> [44]          :EndIf</code>
<code> [45]      :EndIf</code>
<code> [46]  :EndIf</code>
</div>
<code class="header" id="listing_84">#.Tester2.Tester2.HandleCleanup &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {r}←HandleCleanup(ref ps currentGroup i)</code>
<code> [1]   r←0</code>
<code> [2]   currentGroup←Remove∆Test_ currentGroup</code>
<code> [3]   :If i=≢ps.list                                                            ⍝ Last one?</code>
<code> [4]   :OrIf currentGroup{0=≢⍺:0 ⋄ ⍺≢Remove∆Test_ GetGroupName(i+1)⊃⍵}ps.list    ⍝ Group change?!</code>
<code> [5]       :If 3=ref.⎕NC'Cleanup_',currentGroup</code>
<code> [6]           :If 3⊃⌽(8⍴2)⊤ps.stopFlag</code>
<code> [7]               (∪(⎕STOP 1⊃⎕SI),∆stop10,∆stop11)⎕STOP 1⊃⎕SI</code>
<code> [8]           :Else</code>
<code> [9]               ((⎕STOP 1⊃⎕SI)~,∆stop10,∆stop11)⎕STOP 1⊃⎕SI</code>
<code> [10]          :EndIf</code>
<code> [11]          at←1⊃ref.⎕AT'Cleanup_',currentGroup</code>
<code> [12]          :If (2⊃at)∊1 ¯2                                                   ⍝ Accepts a right argument (1=monadic, ¯2=ambivalent)?</code>
<code> [13] ∆stop10:     ps ref.{6::1 ⋄ ⍎⍵,' ⍺'}'Cleanup_',currentGroup</code>
<code> [14]          :Else</code>
<code> [15] ∆stop11:     ref.⍎'Cleanup_',currentGroup</code>
<code> [16]          :EndIf</code>
<code> [17]      :EndIf</code>
<code> [18]  :EndIf</code>
</div>
<code class="header" id="listing_85">#.Tester2.Tester2.ReportLineNumber &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←ReportLineNumber</code>
<code> [1]  r←''</code>
<code> [2]  :If 0&lt;⎕NC'∆FAILING_LINE'</code>
<code> [3]      r←' [',(⍕∆FAILING_LINE),']'</code>
<code> [4]  :EndIf</code>
</div>
<code class="header" id="listing_86">#.Tester2.Tester2.CR &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←CR</code>
<code> [1]  r←⎕UCS 13</code>
</div>
<code class="header" id="listing_87">#.Tester2.Tester2.stopFlag &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<code class="header" id="listing_88">#.Tester2.Tester2._parms &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<code class="header" id="listing_89">#.Tester2.Tester2.type &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<code class="header" id="listing_90">#.Tester2.Tester2.label &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<code class="header" id="listing_91">#.Tester2.Tester2.x &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<code class="header" id="listing_92">#.Tester2.Tester2.target &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<code class="header" id="listing_93">#.Tester2.Tester2.groupName &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<code class="header" id="listing_94">#.Tester2.Tester2.force &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<div id="footer">
<hr>
<p>Created by "CodeCoverage" version 0.10.3+52 from 2023-06-23</p>
</div>

</body>
</html>
