 r←Test_Misc_91(flag batchFlag);log;⎕TRAP;res;was
⍝ Exercise the function "Version"
 ⎕TRAP←(999 'C' '∘∘∘ ⍝ Deliberate error')(0 'N')
 r←T._Failed

 res←##.Tester2.Version
 →T.PassesIf 3=≢res
 →T.PassesIf'Tester2'≡1⊃res
 →T.PassesIf 0<≢2⊃res
 →T.PassesIf 0=≢3⊃res

 was←⎕NS #.Tester2.TatinVars    ⍝ Take a copy
 #.Tester2.⎕EX'TatinVars'       ⍝ Delete it
 res←##.Tester2.Version         ⍝ Run "Version"
 #.Tester2.TatinVars←⎕NS was    ⍝ Restore initial "TatinVars"
 →T.PassesIf'Tester2'≡1⊃res
 →T.PassesIf 0=≢2⊃res           ⍝ Because it could return a version number
 →T.PassesIf 0=≢3⊃res

 r←T._OK
