 r←Test_Other_04(stopFlag batchFlag);ref;stopFlag;⎕TRAP;T2
⍝ Exercise `FailsIf` and `PassesIf`
 ⎕TRAP←(999 'C' '∘∘∘ ⍝ Deliberate error')(0 'N')
 r←T._Failed

 ref←⎕NS''
 T2←⎕NEW ##.Tester2 ref
 ref.stopFlag←0
 →T.FailsIf~0∊⍴T2.PassesIf 1
 →T.FailsIf 0≢T2.PassesIf 0
 →T.FailsIf 0≢T2.FailsIf 1
 →T.FailsIf~0∊⍴T2.FailsIf 0

 ref.stopFlag←1
 →T.FailsIf~0∊⍴T2.PassesIf 1
 :Trap 999
     {}T2.PassesIf 0
     →T2.FailsIf 1
 :Else
     →T2.FailsIf'ERROR 999'≢⎕IO⊃⎕DM
 :EndTrap
 →T.FailsIf~0∊⍴T2.FailsIf 0
 :Trap 999
     {}T2.FailsIf 1
     →T.FailsIf 1
 :Else
     →T.FailsIf'ERROR 999'≢⎕IO⊃⎕DM
 :EndTrap

 ref.stopFlag←0
 →∆TidyUp/⍨0=T2.FailsIf 1
 →T.FailsIf 1

∆TidyUp: ⍝ pro forma
 r←T._OK
